(self.webpackChunkstrapi=self.webpackChunkstrapi||[]).push([[16],{29520:U=>{function H(a,t,f,h){for(var $=-1,E=a==null?0:a.length;++$<E;){var P=a[$];t(h,P,f(P),a)}return h}U.exports=H},83377:(U,H,a)=>{var t=a(54483),f=t("length");U.exports=f},98694:(U,H,a)=>{var t=a(1107);function f(h,$,E,P){return t(h,function(v,j,z){$(P,v,E(v),z)}),P}U.exports=f},1107:(U,H,a)=>{var t=a(84856),f=a(52593),h=f(t);U.exports=h},22107:(U,H,a)=>{var t=a(13578),f=a(27138),h="[object RegExp]";function $(E){return f(E)&&t(E)==h}U.exports=$},92403:(U,H,a)=>{var t=a(1107),f=a(47727);function h($,E){var P=-1,v=f($)?Array($.length):[];return t($,function(j,z,J){v[++P]=E(j,z,J)}),v}U.exports=h},16429:(U,H,a)=>{var t=a(36393),f=a(82393),h=a(90040),$=a(92403),E=a(63135),P=a(20435),v=a(9998),j=a(51339),z=a(26126);function J(q,ne,Ie){ne.length?ne=t(ne,function(ee){return z(ee)?function(ae){return f(ae,ee.length===1?ee[0]:ee)}:ee}):ne=[j];var re=-1;ne=t(ne,P(h));var oe=$(q,function(ee,ae,te){var Ae=t(ne,function(Se){return Se(ee)});return{criteria:Ae,index:++re,value:ee}});return E(oe,function(ee,ae){return v(ee,ae,Ie)})}U.exports=J},63135:U=>{function H(a,t){var f=a.length;for(a.sort(t);f--;)a[f]=a[f].value;return a}U.exports=H},17654:(U,H,a)=>{var t=a(85194);function f(h,$){if(h!==$){var E=h!==void 0,P=h===null,v=h===h,j=t(h),z=$!==void 0,J=$===null,q=$===$,ne=t($);if(!J&&!ne&&!j&&h>$||j&&z&&q&&!J&&!ne||P&&z&&q||!E&&q||!v)return 1;if(!P&&!j&&!ne&&h<$||ne&&E&&v&&!P&&!j||J&&E&&v||!z&&v||!q)return-1}return 0}U.exports=f},9998:(U,H,a)=>{var t=a(17654);function f(h,$,E){for(var P=-1,v=h.criteria,j=$.criteria,z=v.length,J=E.length;++P<z;){var q=t(v[P],j[P]);if(q){if(P>=J)return q;var ne=E[P];return q*(ne=="desc"?-1:1)}}return h.index-$.index}U.exports=f},37177:(U,H,a)=>{var t=a(29520),f=a(98694),h=a(90040),$=a(26126);function E(P,v){return function(j,z){var J=$(j)?t:f,q=v?v():{};return J(j,P,h(z,2),q)}}U.exports=E},52593:(U,H,a)=>{var t=a(47727);function f(h,$){return function(E,P){if(E==null)return E;if(!t(E))return h(E,P);for(var v=E.length,j=$?v:-1,z=Object(E);($?j--:++j<v)&&P(z[j],j,z)!==!1;);return E}}U.exports=f},30930:(U,H,a)=>{var t=a(83377),f=a(11993),h=a(61781);function $(E){return f(E)?h(E):t(E)}U.exports=$},61781:U=>{var H="\\ud800-\\udfff",a="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",f="\\u20d0-\\u20ff",h=a+t+f,$="\\ufe0e\\ufe0f",E="["+H+"]",P="["+h+"]",v="\\ud83c[\\udffb-\\udfff]",j="(?:"+P+"|"+v+")",z="[^"+H+"]",J="(?:\\ud83c[\\udde6-\\uddff]){2}",q="[\\ud800-\\udbff][\\udc00-\\udfff]",ne="\\u200d",Ie=j+"?",re="["+$+"]?",oe="(?:"+ne+"(?:"+[z,J,q].join("|")+")"+re+Ie+")*",ee=re+Ie+oe,ae="(?:"+[z+P+"?",P,J,q,E].join("|")+")",te=RegExp(v+"(?="+v+")|"+ae+ee,"g");function Ae(Se){for(var me=te.lastIndex=0;te.test(Se);)++me;return me}U.exports=Ae},63799:(U,H,a)=>{var t=a(71041),f=a(37177),h=Object.prototype,$=h.hasOwnProperty,E=f(function(P,v,j){$.call(P,j)?P[j].push(v):t(P,j,[v])});U.exports=E},50156:(U,H,a)=>{var t=a(22107),f=a(20435),h=a(25336),$=h&&h.isRegExp,E=$?f($):t;U.exports=E},63514:(U,H,a)=>{var t=a(13578),f=a(26126),h=a(27138),$="[object String]";function E(P){return typeof P=="string"||!f(P)&&h(P)&&t(P)==$}U.exports=E},84921:(U,H,a)=>{var t=a(52695),f=a(4500),h=a(47727),$=a(63514),E=a(30930),P="[object Map]",v="[object Set]";function j(z){if(z==null)return 0;if(h(z))return $(z)?E(z):z.length;var J=f(z);return J==P||J==v?z.size:t(z).length}U.exports=j},51006:(U,H,a)=>{var t=a(93367),f=a(16429),h=a(52431),$=a(65145),E=h(function(P,v){if(P==null)return[];var j=v.length;return j>1&&$(P,v[0],v[1])?v=[]:j>2&&$(v[0],v[1],v[2])&&(v=[v[0]]),f(P,t(v,1),[])});U.exports=E},79146:(U,H,a)=>{var t=a(16946);function f(h){return t(h).toLowerCase()}U.exports=f},88702:(U,H,a)=>{var t=a(63546),f=a(82311),h=a(11993),$=a(3243),E=a(50156),P=a(30930),v=a(66734),j=a(69740),z=a(16946),J=30,q="...",ne=/\w*$/;function Ie(re,oe){var ee=J,ae=q;if($(oe)){var te="separator"in oe?oe.separator:te;ee="length"in oe?j(oe.length):ee,ae="omission"in oe?t(oe.omission):ae}re=z(re);var Ae=re.length;if(h(re)){var Se=v(re);Ae=Se.length}if(ee>=Ae)return re;var me=ee-P(ae);if(me<1)return ae;var xe=Se?f(Se,0,me).join(""):re.slice(0,me);if(te===void 0)return xe+ae;if(Se&&(me+=xe.length-me),E(te)){if(re.slice(me).search(te)){var nt,_=xe;for(te.global||(te=RegExp(te.source,z(ne.exec(te))+"g")),te.lastIndex=0;nt=te.exec(_);)var Je=nt.index;xe=xe.slice(0,Je===void 0?me:Je)}}else if(re.indexOf(t(te),me)!=me){var at=xe.lastIndexOf(te);at>-1&&(xe=xe.slice(0,at))}return xe+ae}U.exports=Ie},81465:(U,H,a)=>{var t=a(21157);function f(h){return h&&h.length?t(h):[]}U.exports=f},61181:(U,H,a)=>{"use strict";a.d(H,{Q:()=>$});var t=a(74081),f=a(72450),h=a(97232);const $=({options:P,...v})=>(0,t.jsx)(h.NU,{...v,children:P.map(j=>"children"in j?(0,t.jsx)(h.Ab,{label:j.label,values:j.children.map(z=>z.value.toString()),children:j.children.map(z=>(0,t.jsx)(E,{value:z.value,children:z.label},z.value))},j.label):(0,t.jsx)(h.ML,{value:j.value,children:j.label},j.value))}),E=(0,f.ZP)(h.ML)`
  padding-left: ${({theme:P})=>P.spaces[7]};
`},16:(U,H,a)=>{"use strict";a.r(H),a.d(H,{A:()=>Ke,C:()=>ft,a:()=>Ge,g:()=>d,i:()=>lr,u:()=>Ee});var t=a(74081),f=a(27279),h=a(93415),$=a(1782),E=a(50703),P=a(61181),v=a(10701),j=a(32370),z=a(1099),J=a(23298),q=a(74577),ne=a(83),Ie=a(15244),re=a(69878),oe=a(94098),ee=a(84366),ae=a(61908),te=a(5627),Ae=a(78955),Se=a(61657),me=a(22572),xe=a(12881),nt=a(98903),_=a(48102),Je=a(6918),at=a(1821),Pn=a(2878),$n=a(10989),Dn=a(77804),Bn=a(31624),Ot=a(4987),Un=a(2981),zn=a(8295),kn=a(61121),Wn=a(39708),Vn=a(5938),Gn=a(35250),Hn=a(27997),S=a(87006),wn=a(364),w=a(61020),Et=a(47533),Te=a(51447),Yn=a(71877),Qn=a(17912),Jn=a(96220),Xn=a(20534),Kn=a(10411),Me=a(72450),qn=a(74513);const _n=(0,Me.ZP)(h.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,ea=Me.ZP.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,ta=Me.ZP.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,na=({label:e,children:n,id:s})=>{const[i,o]=(0,f.useState)(!0),l=(0,qn.M)(s),r=()=>{o(c=>!c)};return(0,t.jsxs)(h.x,{children:[(0,t.jsx)(_n,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,t.jsx)(v.k,{justifyContent:"space-between",children:(0,t.jsxs)(ea,{onClick:r,"aria-expanded":i,"aria-controls":l,children:[(0,t.jsx)(ta,{rotated:i,children:(0,t.jsx)(Kn.Z,{"aria-hidden":!0})}),(0,t.jsx)(h.x,{paddingLeft:2,children:(0,t.jsx)(j.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800",children:e})})]})})}),i&&(0,t.jsx)("ul",{id:l,children:f.Children.map(n,(c,g)=>(0,t.jsx)("li",{children:c},g))})]})};var Pt=a(49370),$t=a(79213),aa=a(89486),sa=a(82298),st=a(61846),oa=a(56692),ia=a(79131),ra=a(53264),la=a(93454),Dt=a(76827),da=a(53274),ca=a(45684),ua=a(7559),ma=a(31654),pa=a(18334),ga=a(42108),fa=a(32721),ha=a(67224),ya=a(20316),xa=a(36974),va=a(8419),ba=a(42190),Ca=a(3232),Ta=a(4896),Ma=a(64386),ja=a(59082),Za=a(73192),Aa=a(98430),Sa=a(74002),Fa=a(35318),Na=a(70743),La=a(38724),Ra=a(94187),Ia=a(70415),Oa=a(8243),Ea=a(71267),Pa=a(61646),$a=a(92518),Da=a(67890),Ba=a(95957),Ua=a(20184),za=a(54285),ka=a(7995),Wa=a(47241),Va=a(87532),Ga=a(16543),Ha=a(68285),wa=a(271),Ya=a(98264),Qa=a(89824),Ja=a(89906),Xa=a(47278),Ka=a(66390),qa=a(57121),_a=a(61287),es=a(84670),ts=a(56074),ns=a(20302),as=a(66351),ss=a(59453),os=a(99001),is=a(11618),rs=a(36952),ls=a(53723),ds=a(42679),cs=a(64059),us=a(5368),ms=a(52827),ps=a(31440),gs=a(43582),fs=a(58113),hs=a(47243),ys=a(91561),xs=a(13389),Bt=a(43286),Ut=a(27645),zt=a(36730),vs=a(42821),bs=a(50862),Cs=a(68077),Ts=a(88678),Ms=a(1628),js=a(74334),kt=a(64510),Wt=a(1267),Vt=a(91682),Zs=a(30770),As=a(95096),Ss=a(13789),Fs=a(26784),Ns=a(71387),Ls=a(23109),Rs=a(38447),Is=a(83761),Os=a(26244),Es=a(64820),De=a(36938),Ps=a(29426),$s=a(72535),Ds=a(13317),Bs=a(63302),Us=a(50186),zs=a(76715),ks=a(48098),Ws=a(70901),Vs=a(54763),Gt=a(10382),Gs=a(60674),Hs=a(55353),ws=a(94842),Ys=a(27733),Qs=a(86874),Js=a(66721),Xs=a(10438),Ks=a(39142),qs=a(80103),_s=a(89975),eo=a(48577),to=a(2426),no=a(68501),ao=a(34389),so=a(8152),oo=a(1072),io=a(23333),ro=a(36558),lo=a(19395),co=a(4452),uo=a(52245),mo=a(27866),po=a(804),go=a(30984),Xe=a(60330);const fo=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 34 25",...e,children:[(0,t.jsx)("rect",{width:33,height:23,x:.5,y:1,fill:"#EAF5FF",stroke:"#B8E1FF",rx:2.5}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M18.901 9.828a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M19.703 8.785a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.239.804.804 0 0 1 .753-1.301.814.814 0 0 1 .669.792c.005.311.487.311.483 0a1.308 1.308 0 0 0-.867-1.215 1.288 1.288 0 0 0-1.4.39 1.296 1.296 0 0 0-.119 1.489c.283.468.83.697 1.364.596.597-.113 1.012-.664 1.021-1.258.005-.314-.477-.314-.482-.002ZM18.901 13.488a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M19.703 12.445a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.239.804.804 0 0 1 .753-1.301.812.812 0 0 1 .669.792c.005.311.487.311.483 0a1.307 1.307 0 0 0-.867-1.215 1.288 1.288 0 0 0-1.4.39 1.296 1.296 0 0 0-.119 1.489c.283.468.83.697 1.364.596.597-.113 1.012-.664 1.021-1.258.005-.314-.477-.314-.482-.002ZM18.901 17.247a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M19.703 16.204a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.239.804.804 0 0 1 .753-1.301.812.812 0 0 1 .669.792c.005.311.487.311.483 0a1.308 1.308 0 0 0-.867-1.215 1.288 1.288 0 0 0-1.4.39 1.296 1.296 0 0 0-.119 1.489c.283.468.83.698 1.364.596.597-.113 1.012-.664 1.021-1.258.005-.313-.477-.313-.482-.002ZM15.075 9.842a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M15.876 8.8a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.24.804.804 0 0 1 .753-1.301.81.81 0 0 1 .669.792c.005.312.488.312.483 0a1.308 1.308 0 0 0-.867-1.214 1.288 1.288 0 0 0-1.4.389 1.296 1.296 0 0 0-.119 1.49c.283.468.831.697 1.365.596.596-.114 1.011-.664 1.02-1.258.006-.314-.477-.314-.482-.003ZM15.075 13.503a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M15.876 12.46a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.24.804.804 0 0 1 .753-1.301.81.81 0 0 1 .669.792c.005.312.488.312.483 0a1.308 1.308 0 0 0-.867-1.214 1.288 1.288 0 0 0-1.4.389 1.296 1.296 0 0 0-.119 1.49c.283.468.831.697 1.365.596.596-.114 1.011-.664 1.02-1.258.006-.314-.477-.314-.482-.003ZM15.075 17.261a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M15.876 16.218a.81.81 0 0 1-.512.749.814.814 0 0 1-.91-.24.804.804 0 0 1 .753-1.301.808.808 0 0 1 .669.792c.005.312.488.312.483 0a1.308 1.308 0 0 0-.867-1.214 1.288 1.288 0 0 0-1.4.389 1.293 1.293 0 0 0-.119 1.487c.283.468.831.698 1.365.596.596-.113 1.011-.664 1.02-1.258.006-.311-.477-.311-.482 0Z"})]}),ho=fo;var yo=a(67929);const xo=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...e,children:[(0,t.jsx)("rect",{width:31,height:23,x:.5,y:.5,fill:"#4945FF",stroke:"#4945FF",rx:2.5}),(0,t.jsx)("path",{fill:"#fff",d:"M15.328 10.54h1.723c.012-.089.012-.165.012-.253 0-1.676-1.471-2.959-3.41-2.959-2.696 0-4.647 2.22-4.647 5.344 0 2.15 1.383 3.545 3.504 3.545 2.045 0 3.597-1.154 3.967-2.936h-1.752c-.276.826-1.102 1.371-2.063 1.371-1.137 0-1.846-.802-1.846-2.103 0-2.08 1.19-3.65 2.725-3.65 1.037 0 1.746.62 1.787 1.558v.082ZM21.053 16l1.488-6.943h2.531l.31-1.512H18.54l-.31 1.512h2.53L19.272 16h1.782Z"})]}),Ht=xo;var vo=a(60069),ot=a(52374),bo=a(24001),Co=a(16719),wt=a(14858),ct=a(48809),Yt=a(6913);const To=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...e,children:[(0,t.jsx)("path",{fill:"#FDF4DC",stroke:"#FAE7B9",d:"M.5 3A2.5 2.5 0 0 1 3 .5h26A2.5 2.5 0 0 1 31.5 3v18a2.5 2.5 0 0 1-2.5 2.5H3A2.5 2.5 0 0 1 .5 21V3Z"}),(0,t.jsx)("path",{fill:"#D9822F",d:"M20.158 11.995c0-.591-.463-1.073-1.045-1.11H13.53V9.245a2.05 2.05 0 0 1 2.046-2.049c1.13 0 2.048.784 2.049 1.913 0 .24.194.433.433.433h.33a.433.433 0 0 0 .433-.433C18.82 7.32 17.365 5.999 15.577 6a3.246 3.246 0 0 0-3.241 3.244v1.642h-.223c-.615 0-1.113.499-1.113 1.114v4.887c.001.615.5 1.113 1.115 1.113l6.93-.003c.616 0 1.114-.5 1.114-1.115l-.001-4.887Z"})]}),Mo=To;var jo=a(967);const Zo=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...e,children:[(0,t.jsx)("rect",{width:31,height:23,x:.5,y:.5,fill:"#EAF5FF",stroke:"#B8E1FF",rx:2.5}),(0,t.jsx)("path",{fill:"#0C75AF",fillRule:"evenodd",d:"M19.286 9.286v-.857a.397.397 0 0 0-.138-.302A.465.465 0 0 0 18.82 8h-8.357a.465.465 0 0 0-.326.127.397.397 0 0 0-.138.302v.857c0 .116.046.216.138.301.092.085.2.127.326.127h8.357a.465.465 0 0 0 .327-.127.397.397 0 0 0 .138-.301Zm2.785 2.713v.857a.397.397 0 0 1-.137.301.465.465 0 0 1-.327.128H10.464a.465.465 0 0 1-.326-.128.397.397 0 0 1-.138-.301v-.857c0-.116.046-.217.138-.302a.465.465 0 0 1 .326-.127h11.143c.126 0 .235.043.327.127a.397.397 0 0 1 .137.302Zm-1.857 3.574v.857a.397.397 0 0 1-.137.302.465.465 0 0 1-.327.127h-9.286a.465.465 0 0 1-.326-.127.397.397 0 0 1-.138-.302v-.857c0-.116.046-.216.138-.301a.465.465 0 0 1 .326-.127h9.286c.126 0 .235.042.326.127a.397.397 0 0 1 .138.301Z",clipRule:"evenodd"})]}),Ao=Zo,So=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...e,children:[(0,t.jsx)("rect",{width:31,height:23,x:.5,y:.5,fill:"#0C75AF",stroke:"#0C75AF",rx:2.5}),(0,t.jsx)("path",{fill:"#fff",d:"M8.523 13.586c.106 1.64 1.418 2.63 3.34 2.63 2.098 0 3.516-1.113 3.516-2.788 0-1.143-.65-1.846-2.086-2.297l-.867-.27c-.797-.252-1.137-.597-1.137-1.066 0-.598.633-1.031 1.459-1.031.873 0 1.512.474 1.617 1.183h1.67c-.053-1.54-1.36-2.619-3.217-2.619-1.91 0-3.328 1.131-3.328 2.678 0 1.09.715 1.922 1.963 2.309l.879.275c.914.287 1.266.592 1.266 1.084 0 .662-.657 1.107-1.606 1.107-.914 0-1.635-.469-1.758-1.195h-1.71ZM20.107 16l1.489-6.943h2.531l.31-1.512h-6.843l-.31 1.512h2.53L18.326 16h1.781Z"})]}),Fo=So;var Qt=a(63161),No=a(81907);const Lo=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,t.jsx)("path",{fill:"#181826",d:"m10.614 17.796.878-2.01a7.742 7.742 0 0 1 3.94-3.992l2.416-1.072c.768-.341.768-1.458 0-1.8l-2.34-1.038a7.747 7.747 0 0 1-3.997-4.125l-.89-2.142a.946.946 0 0 0-1.758 0l-.889 2.142a7.747 7.747 0 0 1-3.997 4.125l-2.34 1.039c-.768.34-.768 1.458 0 1.799l2.415 1.072a7.742 7.742 0 0 1 3.94 3.991l.878 2.01a.946.946 0 0 0 1.744 0Zm8.787 4.894.247-.566a4.365 4.365 0 0 1 2.221-2.25l.76-.339a.53.53 0 0 0 0-.963l-.717-.319a4.368 4.368 0 0 1-2.253-2.326l-.254-.611a.507.507 0 0 0-.942 0l-.254.61a4.368 4.368 0 0 1-2.253 2.327l-.718.32a.53.53 0 0 0 0 .962l.76.338a4.365 4.365 0 0 1 2.222 2.251l.247.566c.18.414.754.414.934 0Z"}),(0,t.jsx)("path",{fill:"#181826",d:"m10.614 17.796.878-2.01a7.742 7.742 0 0 1 3.94-3.992l2.416-1.072c.768-.341.768-1.458 0-1.8l-2.34-1.038a7.747 7.747 0 0 1-3.997-4.125l-.89-2.142a.946.946 0 0 0-1.758 0l-.889 2.142a7.747 7.747 0 0 1-3.997 4.125l-2.34 1.039c-.768.34-.768 1.458 0 1.799l2.415 1.072a7.742 7.742 0 0 1 3.94 3.991l.878 2.01a.946.946 0 0 0 1.744 0Zm8.787 4.894.247-.566a4.365 4.365 0 0 1 2.221-2.25l.76-.339a.53.53 0 0 0 0-.963l-.717-.319a4.368 4.368 0 0 1-2.253-2.326l-.254-.611a.507.507 0 0 0-.942 0l-.254.61a4.368 4.368 0 0 1-2.253 2.327l-.718.32a.53.53 0 0 0 0 .962l.76.338a4.365 4.365 0 0 1 2.222 2.251l.247.566c.18.414.754.414.934 0Z"})]}),Ro=Lo;var Io=a(52448),Oo=a(78665),Oe=a(51943),b=a(35877),ut=a(6078),O=a(98934),Eo=a(63799),Jt=a(43433),Po=a(84921),Ve=a(59461),$o=a(10131),Xt=a(79146),Do=a(29206),it=a(6699),Kt=a(88702),Bo=a(81465),T=a(47853),Uo=a(12665),mt=a(51527),qt=a(55783),_t=a(45648),zo=a(49204),en=a(74919),ko=a(51006);const d=e=>`${b.p}.${e}`,tn=(0,f.createContext)(),Ee=()=>(0,f.useContext)(tn),nn=f.createContext(),Ge=()=>(0,f.useContext)(nn),Wo=()=>{const{components:e,componentsGroupedByCategory:n,contentTypes:s,isInDevelopmentMode:i,sortedContentTypesList:o,modifiedData:l,initialData:r}=Ee(),c=(0,S.lm)(),{trackUsage:g}=(0,S.rS)(),[m,p]=(0,f.useState)(""),{onOpenModalCreateSchema:u,onOpenModalEditCategory:I}=Ge(),{locale:A}=(0,w.Z)(),{startsWith:C}=(0,S.L0)(A,{sensitivity:"base"}),Z=(0,S.Xe)(A,{sensitivity:"base"}),k=!Object.keys(s).some(W=>s[W].isTemporary===!0)&&!Object.keys(e).some(W=>e[W].isTemporary===!0)&&ut(l,r),M=()=>{k?(g("willCreateContentType"),u({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):B()},L=()=>{k?(g("willCreateSingleType"),u({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):B()},D=()=>{k?(g("willCreateComponent"),u({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):B()},B=()=>{c({type:"info",message:{id:d("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},X=Object.entries(n).map(([W,ye])=>({name:W,title:W,isEditable:i,onClickEdit(K,be){K.stopPropagation(),k?I(be.name):B()},links:ye.map(K=>({name:K.uid,to:`/plugins/${b.p}/component-categories/${W}/${K.uid}`,title:K.schema.displayName})).sort((K,be)=>Z.compare(K.title,be.title))})).sort((W,ye)=>Z.compare(W.title,ye.title)),ce=o.filter(W=>W.visible);return{menu:[{name:"models",title:{id:`${d("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${d("button.model.create")}`,defaultMessage:"Create new collection type",onClick:M},links:ce.filter(W=>W.kind==="collectionType")},{name:"singleTypes",title:{id:`${d("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${d("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:L},links:ce.filter(W=>W.kind==="singleType")},{name:"components",title:{id:`${d("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${d("button.component.create")}`,defaultMessage:"Create a new component",onClick:D},links:X}].map(W=>W.links.some(K=>Array.isArray(K.links))?{...W,links:W.links.map(K=>{const be=K.links.filter(pe=>C(pe.title,m));return be.length===0?null:{...K,links:be.sort((pe,se)=>Z.compare(pe.title,se.title))}}).filter(Boolean)}:{...W,links:W.links.filter(K=>C(K.title,m)).sort((K,be)=>Z.compare(K.title,be.title))}),searchValue:m,onSearchChange:p}},Vo=()=>{const{menu:e,searchValue:n,onSearchChange:s}=Wo(),{formatMessage:i}=(0,w.Z)();return(0,t.jsxs)(Yn.m,{ariaLabel:i({id:`${d("plugin.name")}`,defaultMessage:"Content-Types Builder"}),children:[(0,t.jsx)(Qn.p,{searchable:!0,value:n,onClear:()=>s(""),onChange:o=>s(o.target.value),label:i({id:`${d("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),(0,t.jsx)(Jn.Z,{children:e.map(o=>(0,t.jsxs)(f.Fragment,{children:[(0,t.jsx)(Xn.D,{label:i({id:o.title.id,defaultMessage:o.title.defaultMessage}),collapsable:!0,badgeLabel:o.links.length.toString(),children:o.links.map(l=>l.links?(0,t.jsx)(na,{label:Oe(l.title),children:l.links.map(r=>(0,t.jsx)(Pt.E,{as:Et.OL,to:r.to,active:r.active,isSubSectionChild:!0,children:Oe(i({id:r.name,defaultMessage:r.title}))},r.name))},l.name):(0,t.jsx)(Pt.E,{as:Et.OL,to:l.to,active:l.active,children:Oe(i({id:l.name,defaultMessage:l.title}))},l.name))}),o.customLink&&(0,t.jsx)(h.x,{paddingLeft:7,children:(0,t.jsx)($.A,{onClick:o.customLink.onClick,startIcon:(0,t.jsx)(E.J,{as:De.Z,width:(0,S.Q1)(8),height:(0,S.Q1)(8)}),marginTop:2,children:i({id:o.customLink.id,defaultMessage:o.customLink.defaultMessage})})})]},o.name))})]})},an=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),pt=(e,n)=>e.find(({name:s})=>s===n),Go=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],Ho=({intlLabel:e,name:n,onChange:s,value:i=null})=>{const{formatMessage:o}=(0,w.Z)(),l=i===null||i?.length===0?o({id:"global.none",defaultMessage:"None"}):[...i].sort().map(c=>Oe(c)).join(", "),r=e.id?o({id:e.id,defaultMessage:e.defaultMessage}):n;return(0,t.jsx)(P.Q,{id:"select1",label:r,customizeContent:()=>l,onChange:c=>{c.length>0?s({target:{name:n,value:c,type:"allowed-types-select"}}):s({target:{name:n,value:null,type:"allowed-types-select"}})},options:Go,value:i||[]})},sn={biginteger:Xe.Z,blocks:ho,boolean:yo.Z,collectionType:Ht,component:vo.Z,contentType:Ht,date:ot.Z,datetime:ot.Z,decimal:Xe.Z,dynamiczone:bo.Z,email:Co.Z,enum:wt.Z,enumeration:wt.Z,file:ct.Z,files:ct.Z,float:Xe.Z,integer:Xe.Z,json:Yt.Z,JSON:Yt.Z,media:ct.Z,number:Xe.Z,password:Mo,relation:jo.Z,richtext:Ao,singleType:Fo,string:Qt.Z,text:Qt.Z,time:ot.Z,timestamp:ot.Z,uid:No.Z},wo=(0,Me.ZP)(h.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Ke=({type:e,customField:n=null,...s})=>{const i=(0,S.mZ)();let o=sn[e];if(n){const r=i.get(n)?.icon;r&&(o=r)}return sn[e]?(0,t.jsx)(wo,{height:(0,S.Q1)(24),width:(0,S.Q1)(32),shrink:0,...s,"aria-hidden":!0,children:(0,t.jsx)(h.x,{as:o})}):null},on=(0,Me.ZP)(h.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,Yo=[],Qo=()=>(0,t.jsx)(v.k,{grow:1,justifyContent:"flex-end",children:(0,t.jsxs)(v.k,{gap:1,hasRadius:!0,background:"alternative100",padding:`${2/16}rem ${4/16}rem`,children:[(0,t.jsx)(E.J,{width:`${10/16}rem`,height:`${10/16}rem`,as:Ro,color:"alternative600"}),(0,t.jsx)(j.Z,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),Jo=({type:e="text"})=>{const{formatMessage:n}=(0,w.Z)(),{onClickSelectField:s}=Ge(),i=()=>{s({attributeType:e,step:e==="component"?"1":null})};return(0,t.jsx)(on,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i,children:(0,t.jsxs)(v.k,{children:[(0,t.jsx)(Ke,{type:e}),(0,t.jsxs)(h.x,{paddingLeft:4,width:"100%",children:[(0,t.jsxs)(v.k,{justifyContent:"space-between",children:[(0,t.jsx)(j.Z,{fontWeight:"bold",children:n({id:d(`attribute.${e}`),defaultMessage:e})}),Yo.includes(e)&&(0,t.jsx)(Qo,{})]}),(0,t.jsx)(v.k,{children:(0,t.jsx)(j.Z,{variant:"pi",textColor:"neutral600",children:n({id:d(`attribute.${e}.description`),defaultMessage:"A type for modeling data"})})})]})]})})},Xo=({attributes:e})=>(0,t.jsx)(z.k,{tagName:"button",children:(0,t.jsx)(v.k,{direction:"column",alignItems:"stretch",gap:8,children:e.map((n,s)=>(0,t.jsx)(J.r,{gap:3,children:n.map(i=>(0,t.jsx)(q.P,{col:6,children:(0,t.jsx)(Jo,{type:i})},i))},s))})}),Ko=({customFieldUid:e,customField:n})=>{const{type:s,intlLabel:i,intlDescription:o}=n,{formatMessage:l}=(0,w.Z)(),{onClickSelectCustomField:r}=Ge(),c=()=>{r({attributeType:s,customFieldUid:e})};return(0,t.jsx)(on,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:c,children:(0,t.jsxs)(v.k,{children:[(0,t.jsx)(Ke,{type:s,customField:e}),(0,t.jsxs)(h.x,{paddingLeft:4,children:[(0,t.jsx)(v.k,{children:(0,t.jsx)(j.Z,{fontWeight:"bold",children:l(i)})}),(0,t.jsx)(v.k,{children:(0,t.jsx)(j.Z,{variant:"pi",textColor:"neutral600",children:l(o)})})]})]})})},qo=(0,Me.ZP)(h.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,_o=()=>(0,t.jsx)(v.k,{wrap:"wrap",gap:4,children:[...Array(4)].map((e,n)=>(0,t.jsx)(qo,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${n}`))}),ei=()=>{const{formatMessage:e}=(0,w.Z)();return(0,t.jsxs)(h.x,{position:"relative",children:[(0,t.jsx)(_o,{}),(0,t.jsx)(h.x,{position:"absolute",top:6,width:"100%",children:(0,t.jsxs)(v.k,{alignItems:"center",justifyContent:"center",direction:"column",children:[(0,t.jsx)(E.J,{as:Io.Z,color:"",width:"160px",height:"88px"}),(0,t.jsx)(h.x,{paddingTop:6,paddingBottom:4,children:(0,t.jsxs)(h.x,{textAlign:"center",children:[(0,t.jsx)(j.Z,{variant:"delta",as:"p",textColor:"neutral600",children:e({id:d("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),(0,t.jsx)(h.x,{paddingTop:4,children:(0,t.jsx)(j.Z,{variant:"delta",as:"p",textColor:"neutral600",children:e({id:d("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),(0,t.jsx)(ne.Q,{to:`/marketplace?${Do.stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:(0,t.jsx)(De.Z,{}),children:e({id:d("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},ti=()=>{const{formatMessage:e}=(0,w.Z)(),n=(0,S.mZ)(),s=Object.entries(n.getAll());if(!s.length)return(0,t.jsx)(ei,{});const i=s.sort((o,l)=>o[1].name>l[1].name?1:-1);return(0,t.jsx)(z.k,{tagName:"button",children:(0,t.jsxs)(v.k,{direction:"column",alignItems:"stretch",gap:3,children:[(0,t.jsx)(J.r,{gap:3,children:i.map(([o,l])=>(0,t.jsx)(q.P,{col:6,children:(0,t.jsx)(Ko,{customFieldUid:o,customField:l},o)},o))}),(0,t.jsx)($t.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:e({id:d("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},ni=({attributes:e,forTarget:n,kind:s})=>{const{formatMessage:i}=(0,w.Z)(),o=d("modalForm.tabs.default"),l=d("modalForm.tabs.custom"),r=n.includes("component")?"component":s,c=d(`modalForm.sub-header.chooseAttribute.${r}`);return(0,t.jsx)(Ie.f,{padding:7,children:(0,t.jsxs)(re.v,{label:i({id:d("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple",children:[(0,t.jsxs)(v.k,{justifyContent:"space-between",children:[(0,t.jsx)(j.Z,{variant:"beta",as:"h2",children:i({id:c,defaultMessage:"Select a field"})}),(0,t.jsxs)(oe.m,{children:[(0,t.jsx)(oe.O,{children:i({id:o,defaultMessage:"Default"})}),(0,t.jsx)(oe.O,{children:i({id:l,defaultMessage:"Custom"})})]})]}),(0,t.jsx)(h.x,{paddingBottom:6,children:(0,t.jsx)(ee.i,{})}),(0,t.jsxs)(ae.n,{children:[(0,t.jsx)(ae.x,{children:(0,t.jsx)(Xo,{attributes:e})}),(0,t.jsx)(ae.x,{children:(0,t.jsx)(ti,{})})]})]})})},ai=({intlLabel:e,name:n,options:s,onChange:i,value:o=null})=>{const{formatMessage:l}=(0,w.Z)(),r=e.id?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):n,c=g=>{let m="";g==="true"&&(m=!0),g==="false"&&(m=!1),i({target:{name:n,value:m,type:"select-default-boolean"}})};return(0,t.jsx)(te.P,{label:r,id:n,name:n,onChange:c,value:(o===null?"":o).toString(),children:s.map(({metadatas:{intlLabel:g,disabled:m,hidden:p},key:u,value:I})=>(0,t.jsx)(Ae.W,{value:I,disabled:m,hidden:p,children:g.defaultMessage},u))})},si=(0,Me.ZP)(v.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Se.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${j.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,gt=({intlLabel:e,name:n,onChange:s,radios:i=[],value:o})=>{const{formatMessage:l}=(0,w.Z)();return(0,t.jsxs)(v.k,{direction:"column",alignItems:"stretch",gap:2,children:[(0,t.jsx)(j.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:n,as:"label",children:l(e)}),(0,t.jsx)(si,{gap:4,alignItems:"stretch",children:i.map(r=>(0,t.jsxs)("label",{htmlFor:r.value.toString(),className:"container",children:[(0,t.jsx)("input",{id:r.value.toString(),name:n,className:"option-input",checked:r.value===o,value:r.value,onChange:s,type:"radio"},r.value),(0,t.jsx)(h.x,{className:"option",padding:4,children:(0,t.jsxs)(v.k,{children:[(0,t.jsx)(h.x,{paddingRight:4,children:(0,t.jsx)("span",{className:"checkmark"})}),(0,t.jsxs)(v.k,{direction:"column",alignItems:"stretch",gap:2,children:[(0,t.jsx)(j.Z,{fontWeight:"bold",children:l(r.title)}),(0,t.jsx)(j.Z,{variant:"pi",textColor:"neutral600",children:l(r.description)})]})]})})]},r.value))})]})},oi=({onChange:e,name:n,intlLabel:s,...i})=>{const o=l=>{const r=l.target.value!=="false";e({target:{name:n,value:r,type:"boolean-radio-group"}})};return(0,t.jsx)(gt,{...i,name:n,onChange:o,intlLabel:s})},ii=({error:e,intlLabel:n,modifiedData:s,name:i,onChange:o,value:l=null})=>{const{formatMessage:r}=(0,w.Z)(),[c,g]=(0,f.useState)(!!l||l===0),m=n.id?r({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):i,p=s.type==="biginteger"?"text":"number",u=!s.type,I=e?r({id:e,defaultMessage:e}):"";return(0,t.jsxs)(v.k,{direction:"column",alignItems:"stretch",gap:2,children:[(0,t.jsx)(me.X,{id:i,name:i,onValueChange:A=>{o({target:{name:i,value:A?p==="text"?"0":0:null}}),g(k=>!k)},value:c,children:m}),c&&(0,t.jsx)(h.x,{paddingLeft:6,style:{maxWidth:"200px"},children:p==="text"?(0,t.jsx)(xe.o,{label:"","aria-label":m,disabled:u,error:I,id:i,name:i,onChange:o,value:l===null?"":l}):(0,t.jsx)(nt.Y,{"aria-label":m,disabled:u,error:I,id:i,name:i,onValueChange:A=>{o({target:{name:i,value:A,type:p}})},value:l||0})})]})},ri=({onChange:e,...n})=>{const s=(0,S.lm)(),i=o=>{s({type:"info",message:{id:d("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(o)};return(0,t.jsx)(gt,{...n,onChange:i})},li=({description:e,disabled:n=!1,intlLabel:s,isCreating:i,name:o,onChange:l,value:r=!1})=>{const{formatMessage:c}=(0,w.Z)(),[g,m]=(0,f.useState)(!1),p=s.id?c({id:s.id,defaultMessage:s.defaultMessage},{...s.values}):o,u=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",I=()=>m(Z=>!Z),A=()=>{l({target:{name:o,value:!1}}),I()},C=({target:{checked:Z}})=>{if(!Z&&!i){I();return}l({target:{name:o,value:Z}})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(me.X,{checked:r,disabled:n,hint:u,name:o,onChange:C,children:p}),(0,t.jsx)(S.QH,{isOpen:g,onToggleDialog:I,onConfirm:A,bodyText:{id:d("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:d("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}})]})},di=({categoryName:e,deleteCategory:n,deleteComponent:s,deleteContentType:i,isAttributeModal:o,isCustomFieldModal:l,isComponentAttribute:r,isComponentToDzModal:c,isContentTypeModal:g,isCreatingComponent:m,isCreatingComponentAttribute:p,isCreatingComponentInDz:u,isCreatingComponentWhileAddingAField:I,isCreatingContentType:A,isCreatingDz:C,isComponentModal:Z,isDzAttribute:k,isEditingAttribute:M,isEditingCategory:L,isInFirstComponentStep:D,onSubmitAddComponentAttribute:B,onSubmitAddComponentToDz:X,onSubmitCreateContentType:ce,onSubmitCreateComponent:ve,onSubmitCreateDz:W,onSubmitEditAttribute:ye,onSubmitEditCategory:K,onSubmitEditComponent:be,onSubmitEditContentType:pe,onSubmitEditCustomFieldAttribute:se,onSubmitEditDz:Pe,onClickFinish:ue})=>{const{formatMessage:Q}=(0,w.Z)();return c?u?(0,t.jsx)(_.z,{variant:"secondary",type:"submit",onClick:F=>{F.preventDefault(),X(F,!0)},startIcon:(0,t.jsx)(De.Z,{}),children:Q({id:d("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):(0,t.jsx)(_.z,{variant:"default",type:"submit",onClick:F=>{F.preventDefault(),X(F,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})}):o&&k&&!C?(0,t.jsx)(_.z,{variant:"default",type:"submit",onClick:F=>{F.preventDefault(),ue(),Pe(F,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})}):o&&k&&C?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(_.z,{variant:"secondary",type:"submit",onClick:F=>{F.preventDefault(),W(F,!0)},startIcon:(0,t.jsx)(De.Z,{}),children:Q({id:d("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):o&&r?D?(0,t.jsx)(_.z,{variant:"secondary",type:"submit",onClick:F=>{F.preventDefault(),B(F,!0)},children:Q(p?{id:d("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:d("form.button.select-component"),defaultMessage:"Configure the component"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.z,{variant:"secondary",type:"submit",onClick:F=>{F.preventDefault(),B(F,!0)},startIcon:(0,t.jsx)(De.Z,{}),children:Q(I?{id:d("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:d("form.button.add-field"),defaultMessage:"Add another field"})}),(0,t.jsx)(_.z,{variant:"default",type:"button",onClick:F=>{F.preventDefault(),ue(),B(F,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})})]}):o&&!r&&!k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.z,{type:M?"button":"submit",variant:"secondary",onClick:F=>{F.preventDefault(),ye(F,!0)},startIcon:(0,t.jsx)(De.Z,{}),children:Q({id:d("form.button.add-field"),defaultMessage:"Add another field"})}),(0,t.jsx)(_.z,{type:M?"submit":"button",variant:"default",onClick:F=>{F.preventDefault(),ue(),ye(F,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})})]}):g?(0,t.jsxs)(t.Fragment,{children:[!A&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.z,{type:"button",variant:"danger",onClick:F=>{F.preventDefault(),i()},children:Q({id:"global.delete",defaultMessage:"Delete"})}),(0,t.jsx)(_.z,{type:"submit",variant:"default",onClick:F=>{F.preventDefault(),pe(F,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})})]}),A&&(0,t.jsx)(_.z,{type:"submit",variant:"secondary",onClick:F=>{F.preventDefault(),ce(F,!0)},children:Q({id:"global.continue",defaultMessage:"Continue"})})]}):Z?(0,t.jsxs)(t.Fragment,{children:[!m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.z,{type:"button",variant:"danger",onClick:F=>{F.preventDefault(),s()},children:Q({id:"global.delete",defaultMessage:"Delete"})}),(0,t.jsx)(_.z,{type:"submit",variant:"default",onClick:F=>{F.preventDefault(),be(F,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})})]}),m&&(0,t.jsx)(_.z,{type:"submit",variant:"secondary",onClick:F=>{F.preventDefault(),ve(F,!0)},children:Q({id:"global.continue",defaultMessage:"Continue"})})]}):L?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.z,{type:"button",variant:"danger",onClick:F=>{F.preventDefault(),e&&n(e)},children:Q({id:"global.delete",defaultMessage:"Delete"})}),(0,t.jsx)(_.z,{type:"submit",variant:"default",onClick:F=>{F.preventDefault(),K(F)},children:Q({id:"global.finish",defaultMessage:"finish"})})]}):l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.z,{type:M?"button":"submit",variant:"secondary",onClick:F=>{F.preventDefault(),se(F,!0)},startIcon:(0,t.jsx)(De.Z,{}),children:Q({id:d("form.button.add-field"),defaultMessage:"Add another field"})}),(0,t.jsx)(_.z,{type:M?"submit":"button",variant:"default",onClick:F=>{F.preventDefault(),ue(),se(F,!1)},children:Q({id:"global.finish",defaultMessage:"Finish"})})]}):null},ci=({actionType:e=null,attributeName:n,attributeType:s,categoryName:i,contentTypeKind:o,dynamicZoneTarget:l,forTarget:r,modalType:c=null,targetUid:g,customFieldUid:m=null,showBackLink:p=!1})=>{const{formatMessage:u}=(0,w.Z)(),{modifiedData:I}=Ee(),{onOpenModalAddField:A}=Ge();let C="component",Z=[];const k=I?.[r]?.[g]||I?.[r]||null,M=k?.schema.displayName;if(c==="contentType"&&(C=o),["component","editCategory"].includes(c||"")&&(C="component"),["component","contentType"].includes(c||"")){let D=d(`modalForm.component.header-${e}`);return c==="contentType"&&(D=d(`modalForm.${o}.header-create`)),e==="edit"&&(D=d("modalForm.header-edit")),(0,t.jsx)(Je.x,{children:(0,t.jsxs)(v.k,{children:[(0,t.jsx)(h.x,{children:(0,t.jsx)(Ke,{type:C})}),(0,t.jsx)(h.x,{paddingLeft:3,children:(0,t.jsx)(j.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title",children:u({id:D},{name:M})})})]})})}return Z=[{label:M,info:{category:k?.category||null,name:k?.schema.displayName}}],c==="chooseAttribute"&&(C=["component","components"].includes(r)?"component":k.schema.kind),c==="addComponentToDynamicZone"&&(C="dynamiczone",Z.push({label:l})),(c==="attribute"||c==="customField")&&(C=s,Z.push({label:n})),c==="editCategory"&&(Z=[{label:u({id:d("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]),(0,t.jsx)(Je.x,{children:(0,t.jsxs)(v.k,{gap:3,children:[p&&(0,t.jsx)($t.r,{"aria-label":u({id:d("modalForm.header.back"),defaultMessage:"Back"}),startIcon:(0,t.jsx)(Dt.Z,{}),onClick:()=>A({forTarget:r,targetUid:g}),href:"#back",isExternal:!1}),(0,t.jsx)(Ke,{type:C,customField:m}),(0,t.jsx)(aa.O,{label:Z.map(({label:D})=>D).join(","),children:Z.map(({label:D,info:B},X,ce)=>{if(D=Oe(D),!D)return null;const ve=`${D}.${X}`;return B?.category&&(D=`${D} (${Oe(B.category)} - ${Oe(B.name)})`),(0,t.jsx)(sa.$,{isCurrent:X===ce.length-1,children:D},ve)})})]})})},ui=({modalType:e,forTarget:n,kind:s,actionType:i,step:o})=>{switch(e){case"chooseAttribute":return d(`modalForm.sub-header.chooseAttribute.${n?.includes("component")?"component":s||"collectionType"}`);case"attribute":return d(`modalForm.sub-header.attribute.${i}${o!=="null"&&o!==null&&i!=="edit"?".step":""}`);case"customField":return d(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return d("modalForm.sub-header.addComponentToDynamicZone");default:return d("configurations")}},mi=({actionType:e,modalType:n,forTarget:s,kind:i,step:o,attributeType:l,attributeName:r,customField:c})=>{const{formatMessage:g}=(0,w.Z)(),m=n==="customField"?c?.intlLabel:{id:d(`attribute.${l}`)};return(0,t.jsxs)(v.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1,children:[(0,t.jsx)(j.Z,{as:"h2",variant:"beta",children:g({id:ui({actionType:e,forTarget:s,kind:i,step:o,modalType:n}),defaultMessage:"Add new field"},{type:m?Oe(g(m)):"",name:Oe(r),step:o})}),(0,t.jsx)(j.Z,{variant:"pi",textColor:"neutral600",children:g({id:d(`attribute.${l}.description`),defaultMessage:"A type for modeling data"})})]})},ft={alien:oa.Z,apps:ia.Z,archive:ra.Z,arrowDown:la.Z,arrowLeft:Dt.Z,arrowRight:da.Z,arrowUp:ca.Z,attachment:ua.Z,bell:ma.Z,bold:pa.Z,book:ga.Z,briefcase:fa.Z,brush:ha.Z,bulletList:ya.Z,calendar:xa.Z,car:va.Z,cast:ba.Z,chartBubble:Ca.Z,chartCircle:Ta.Z,chartPie:Ma.Z,check:ja.Z,clock:Za.Z,cloud:Aa.Z,code:Sa.Z,cog:Fa.Z,collapse:Na.Z,command:La.Z,connector:Ra.Z,crop:Ia.Z,crown:Oa.Z,cube:Ea.Z,cup:Pa.Z,cursor:$a.Z,dashboard:Da.Z,database:Ba.Z,discuss:Ua.Z,doctor:za.Z,earth:ka.Z,emotionHappy:Wa.Z,emotionUnhappy:Va.Z,envelop:Ga.Z,exit:Ha.Z,expand:wa.Z,eye:Ya.Z,feather:Qa.Z,file:Ja.Z,fileError:Xa.Z,filePdf:Ka.Z,filter:qa.Z,folder:_a.Z,gate:es.Z,gift:ts.Z,globe:ns.Z,grid:as.Z,handHeart:ss.Z,hashtag:os.Z,headphone:is.Z,heart:rs.Z,house:ls.Z,information:ds.Z,italic:cs.Z,key:us.Z,landscape:ms.Z,layer:ps.Z,layout:gs.Z,lightbulb:fs.Z,link:hs.Z,lock:ys.Z,magic:xs.Z,manyToMany:Bt.Z,manyToOne:Ut.Z,manyWays:zt.Z,medium:vs.Z,message:bs.Z,microphone:Cs.Z,monitor:Ts.Z,moon:Ms.Z,music:js.Z,oneToMany:kt.Z,oneToOne:Wt.Z,oneWay:Vt.Z,paint:Zs.Z,paintBrush:As.Z,paperPlane:Ss.Z,pencil:Fs.Z,phone:Ns.Z,picture:Ls.Z,pin:Rs.Z,pinMap:Is.Z,plane:Os.Z,play:Es.Z,plus:De.Z,priceTag:Ps.Z,puzzle:$s.Z,question:Ds.Z,quote:Bs.Z,repeat:Us.Z,restaurant:zs.Z,rocket:ks.Z,rotate:Ws.Z,scissors:Vs.Z,search:Gt.Z,seed:Gs.Z,server:Hs.Z,shield:ws.Z,shirt:Ys.Z,shoppingCart:Qs.Z,slideshow:Js.Z,stack:Xs.Z,star:Ks.Z,store:qs.Z,strikeThrough:_s.Z,sun:eo.Z,television:to.Z,thumbDown:no.Z,thumbUp:ao.Z,train:so.Z,twitter:oo.Z,typhoon:io.Z,underline:ro.Z,user:lo.Z,volumeMute:co.Z,volumeUp:uo.Z,walk:mo.Z,wheelchair:po.Z,write:go.Z},pi=(0,Me.ZP)(v.k)`
  label {
    ${(0,Se.k3)()}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,gi=({iconKey:e,name:n,onChange:s,isSelected:i,ariaLabel:o})=>(0,t.jsx)(at.g,{name:n,required:!1,children:(0,t.jsxs)(Pn.Q,{htmlFor:e,id:`${e}-label`,children:[(0,t.jsxs)($n.T,{children:[(0,t.jsx)(Dn._,{type:"radio",id:e,name:n,checked:i,onChange:s,value:e,"aria-checked":i,"aria-labelledby":`${e}-label`}),o]}),(0,t.jsx)(v.k,{padding:2,cursor:"pointer",hasRadius:!0,background:i?"primary200":void 0,children:(0,t.jsx)(E.J,{as:ft[e],color:i?"primary600":"neutral300"})})]})}),fi=({intlLabel:e,name:n,onChange:s,value:i=""})=>{const{formatMessage:o}=(0,w.Z)(),[l,r]=(0,f.useState)(!1),[c,g]=(0,f.useState)(""),m=Object.keys(ft),[p,u]=(0,f.useState)(m),I=(0,f.useRef)(null),A=(0,f.useRef)(null),C=()=>{r(!l)},Z=({target:{value:L}})=>{g(L),u(()=>m.filter(D=>D.toLowerCase().includes(L.toLowerCase())))},k=()=>{C(),g(""),u(m)},M=()=>{s({target:{name:n,value:""}})};return(0,f.useEffect)(()=>{l&&A.current?.focus()},[l]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(v.k,{justifyContent:"space-between",paddingBottom:2,children:[(0,t.jsx)(j.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label",children:o(e)}),(0,t.jsxs)(v.k,{gap:1,children:[l?(0,t.jsx)(Bn.w,{ref:A,name:"searchbar",size:"S",placeholder:o({id:d("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{c||C()},onChange:Z,value:c,onClear:k,clearLabel:o({id:d("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:o({id:d("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):(0,t.jsx)(Ot.h,{ref:I,onClick:C,"aria-label":o({id:d("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:(0,t.jsx)(Gt.Z,{}),noBorder:!0}),i&&(0,t.jsx)(Un.u,{description:o({id:d("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:(0,t.jsx)(Ot.h,{onClick:M,"aria-label":o({id:d("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:(0,t.jsx)(Oo.Z,{}),noBorder:!0})})]})]}),(0,t.jsx)(pi,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:p.length>0?p.map(L=>(0,t.jsx)(gi,{iconKey:L,name:n,onChange:s,isSelected:L===i,ariaLabel:o({id:d("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:L})},L)):(0,t.jsx)(h.x,{padding:4,grow:2,children:(0,t.jsx)(j.Z,{variant:"delta",textColor:"neutral600",textAlign:"center",children:o({id:d("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})},hi=({description:e,error:n,intlLabel:s,modifiedData:i,name:o,onChange:l,value:r})=>{const{formatMessage:c}=(0,w.Z)(),g=(0,f.useRef)(l),m=i?.displayName||"";(0,f.useEffect)(()=>{if(m){const A=(0,b.n)(m);try{const C=it(A,2);g.current({target:{name:o,value:C}})}catch{g.current({target:{name:o,value:A}})}}else g.current({target:{name:o,value:""}})},[m,o]);const p=n?c({id:n,defaultMessage:n}):"",u=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",I=c(s);return(0,t.jsx)(xe.o,{error:p,label:I,id:o,hint:u,name:o,onChange:l,value:r||""})},yi=({oneThatIsCreatingARelationWithAnother:e,target:n})=>{const{contentTypes:s,sortedContentTypesList:i}=Ee(),o=(0,Ve.I0)(),l=i.filter(an),{plugin:r=null,schema:{displayName:c}={displayName:"error"}}=s?.[n]??{},g=({uid:m,plugin:p,title:u,restrictRelationsTo:I})=>()=>{const A=p?`${p}_${u}`:u;o({type:b.O,target:{value:m,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:A,targetContentTypeAllowedRelations:I}})};return(0,t.jsxs)(st.fC,{children:[(0,t.jsx)(xi,{children:`${c} ${r?`(from: ${r})`:""}`}),(0,t.jsx)(st.VY,{zIndex:5,children:l.map(({uid:m,title:p,restrictRelationsTo:u,plugin:I})=>(0,t.jsxs)(st.ck,{onSelect:g({uid:m,plugin:I,title:p,restrictRelationsTo:u}),children:[p,"\xA0",I&&(0,t.jsxs)(t.Fragment,{children:["(from: ",I,")"]})]},m))})]})},xi=(0,Me.ZP)(st.xz)`
  svg {
    width: ${6/16}rem;
    height: ${4/16}rem;
  }
`,rn=({disabled:e=!1,error:n,header:s,isMain:i=!1,name:o,onChange:l,oneThatIsCreatingARelationWithAnother:r="",target:c="",value:g=""})=>(0,t.jsxs)(h.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[(0,t.jsx)(v.k,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center",children:i?(0,t.jsx)(j.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:s}):(0,t.jsx)(yi,{target:c,oneThatIsCreatingARelationWithAnother:r})}),(0,t.jsx)(ee.i,{background:"neutral200"}),(0,t.jsx)(h.x,{padding:4,children:(0,t.jsx)(S.jm,{disabled:e,error:n?.id||null,intlLabel:{id:d("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:o,onChange:l,type:"text",value:g})})]}),vi=(0,Me.ZP)(h.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,bi=(0,Me.ZP)(h.x)`
  background: ${({theme:e,isSelected:n})=>e.colors[n?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Ci=(0,Me.ZP)(v.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Ti={oneWay:Vt.Z,oneToOne:Wt.Z,oneToMany:kt.Z,manyToOne:Ut.Z,manyToMany:Bt.Z,manyWay:zt.Z},Mi=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:n,relationType:s,target:i})=>{const o=(0,Ve.I0)(),{formatMessage:l}=(0,w.Z)(),{contentTypes:r,modifiedData:c}=Ee(),g=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],m=["oneWay","manyWay"],u=(e==="contentType"?O(c,[e,"schema","kind"],""):e)==="collectionType"?g:m,I=s==="manyToOne",A=O(r,[i,"schema","displayName"],"unknown"),C=I?A:n,Z=I?n:A,k=it(C,s==="manyToMany"?2:1),M=O(r,[i,"schema","restrictRelationsTo"],null),L=it(Z,["manyToMany","oneToMany","manyToOne","manyWay"].includes(s)?2:1);return s?(0,t.jsxs)(v.k,{style:{flex:1},children:[(0,t.jsx)(vi,{children:(0,t.jsx)(v.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:(0,t.jsx)(z.k,{tagName:"button",children:(0,t.jsx)(v.k,{gap:3,children:u.map(D=>{const B=Ti[D],X=M===null||M.includes(D);return(0,t.jsx)(bi,{as:"button",isSelected:s===D,disabled:!X,onClick:()=>{X&&o({type:b.a,target:{oneThatIsCreatingARelationWithAnother:n,targetContentType:i,value:D}})},padding:2,type:"button",children:(0,t.jsx)(B,{},D)},D)})})})})}),(0,t.jsxs)(Ci,{justifyContent:"center",children:[(0,t.jsxs)(j.Z,{children:[Kt(k,{length:24}),"\xA0"]}),(0,t.jsxs)(j.Z,{textColor:"primary600",children:[l({id:d(`relation.${s}`)}),"\xA0"]}),(0,t.jsx)(j.Z,{children:Kt(L,{length:24})})]})]}):null},ji=({formErrors:e,mainBoxHeader:n,modifiedData:s,naturePickerType:i,onChange:o})=>{const l=(0,b.g)(s.relation,s.targetAttribute);return(0,t.jsxs)(v.k,{style:{position:"relative"},children:[(0,t.jsx)(rn,{isMain:!0,header:n,error:e?.name||null,name:"name",onChange:o,value:s?.name||""}),(0,t.jsx)(Mi,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:n,relationType:l,target:s.target}),(0,t.jsx)(rn,{disabled:["oneWay","manyWay"].includes(l),error:e?.targetAttribute||null,name:"targetAttribute",onChange:o,oneThatIsCreatingARelationWithAnother:n,target:s.target,value:s?.targetAttribute||""})]})},Zi=({error:e=null,intlLabel:n,name:s,onChange:i,value:o=void 0})=>{const{formatMessage:l}=(0,w.Z)(),{allComponentsCategories:r}=Ee(),[c,g]=(0,f.useState)(r),m=e?l({id:e,defaultMessage:e}):"",p=l(n),u=A=>{i({target:{name:s,value:A,type:"select-category"}})},I=A=>{g(C=>[...C,A]),u(A)};return(0,t.jsx)(zn.XU,{error:m,id:s,label:p,name:s,onChange:u,onCreateOption:I,value:o,children:c.map(A=>(0,t.jsx)(kn.O,{value:A,children:A},A))})},Ai=({error:e=null,intlLabel:n,isAddingAComponentToAnotherComponent:s,isCreating:i,isCreatingComponentWhileAddingAField:o,componentToCreate:l,name:r,onChange:c,targetUid:g,forTarget:m,value:p})=>{const{formatMessage:u}=(0,w.Z)(),I=e?u({id:e,defaultMessage:e}):"",A=u(n),{componentsGroupedByCategory:C,componentsThatHaveOtherComponentInTheirAttributes:Z}=Ee(),k=["component","components"].includes(m);let M=Object.entries(C).reduce((L,D)=>{const[B,X]=D,ce=X.map(ve=>({uid:ve.uid,label:ve.schema.displayName,categoryName:B}));return[...L,...ce]},[]);return s&&(M=M.filter(L=>!Z.includes(L.uid))),k&&(M=M.filter(L=>L.uid!==g)),o&&(M=[{uid:p,label:l?.displayName,categoryName:l?.category}]),(0,t.jsx)(te.P,{disabled:o||!i,error:I,label:A,id:r,name:r,onChange:L=>{c({target:{name:r,value:L,type:"select-category"}})},value:p||"",children:M.map(L=>(0,t.jsx)(Ae.W,{value:L.uid,children:`${L.categoryName} - ${L.label}`},L.uid))})},Si=({dynamicZoneTarget:e,intlLabel:n,name:s,onChange:i,value:o})=>{const{formatMessage:l}=(0,w.Z)(),{componentsGroupedByCategory:r,modifiedData:c}=Ee(),m=pt(c.contentType.schema.attributes,e)?.components||[],p=Object.keys(r).reduce((A,C)=>{const Z=r[C].filter(({uid:k})=>!m.includes(k));return Z.length>0&&(A[C]=Z),A},{}),u=Object.entries(p).reduce((A,C)=>{const[Z,k]=C,M={label:Z,children:k.map(({uid:L,schema:{displayName:D}})=>({label:D,value:L}))};return A.push(M),A},[]),I=l({id:d("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:o?.length??0});return(0,t.jsx)(P.Q,{id:"select1",label:l(n),customizeContent:()=>I,name:s,onChange:A=>{i({target:{name:s,value:A,type:"select-components"}})},options:u,value:o||[]})},Fi=({intlLabel:e,error:n=void 0,modifiedData:s,name:i,onChange:o,options:l,value:r=""})=>{const{formatMessage:c}=(0,w.Z)(),g=c(e),m=n?c({id:n,defaultMessage:n}):"",p=u=>{o({target:{name:i,value:u,type:"select"}}),r&&s.default!==void 0&&s.default!==null&&o({target:{name:"default",value:null}})};return(0,t.jsx)(te.P,{error:m,label:g,id:i,name:i,onChange:p,value:r||"",children:l.map(({metadatas:{intlLabel:u,disabled:I,hidden:A},key:C,value:Z})=>(0,t.jsx)(Ae.W,{value:Z,disabled:I,hidden:A,children:c({id:u.id,defaultMessage:u.defaultMessage},u.values)},C))})},ln=({intlLabel:e,error:n=void 0,modifiedData:s,name:i,onChange:o,options:l,value:r=""})=>{const{formatMessage:c}=(0,w.Z)(),g=c(e),m=n?c({id:n,defaultMessage:n}):"",p=u=>{o({target:{name:i,value:u,type:"select"}}),r&&(u==="biginteger"&&r!=="biginteger"&&(s.default!==void 0&&s.default!==null&&o({target:{name:"default",value:null}}),s.max!==void 0&&s.max!==null&&o({target:{name:"max",value:null}}),s.min!==void 0&&s.min!==null&&o({target:{name:"min",value:null}})),typeof u=="string"&&["decimal","float","integer"].includes(u)&&r==="biginteger"&&(s.default!==void 0&&s.default!==null&&o({target:{name:"default",value:null}}),s.max!==void 0&&s.max!==null&&o({target:{name:"max",value:null}}),s.min!==void 0&&s.min!==null&&o({target:{name:"min",value:null}})))};return(0,t.jsx)(te.P,{error:m,label:g,id:i,name:i,onChange:p,value:r||"",children:l.map(({metadatas:{intlLabel:u,disabled:I,hidden:A},key:C,value:Z})=>(0,t.jsx)(Ae.W,{value:Z,disabled:I,hidden:A,children:c(u)},C))})};ln.defaultProps={error:void 0,value:""};const Ni=({description:e=null,error:n=null,intlLabel:s,modifiedData:i,name:o,onChange:l,value:r=null})=>{const{formatMessage:c}=(0,w.Z)(),g=(0,f.useRef)(l),m=i?.displayName||"";(0,f.useEffect)(()=>{m?g.current({target:{name:o,value:(0,b.n)(m)}}):g.current({target:{name:o,value:""}})},[m,o]);const p=n?c({id:n,defaultMessage:n}):"",u=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",I=c(s);return(0,t.jsx)(xe.o,{error:p,label:I,id:o,hint:u,name:o,onChange:l,value:r||""})},dn=({form:e,formErrors:n,genericInputProps:s,modifiedData:i,onChange:o})=>{const{formatMessage:l}=(0,w.Z)();return(0,t.jsx)(t.Fragment,{children:e.map((r,c)=>r.items.length===0?null:(0,t.jsxs)(h.x,{children:[r.sectionTitle&&(0,t.jsx)(h.x,{paddingBottom:4,children:(0,t.jsx)(j.Z,{variant:"delta",as:"h3",children:l(r.sectionTitle)})}),(0,t.jsx)(J.r,{gap:4,children:r.items.map((g,m)=>{const p=`${c}.${m}`,u=O(i,g.name,void 0),I=Object.keys(n).find(C=>C===g.name),A=I?n[I].id:O(n,[...g.name.split(".").filter(C=>C!=="componentToCreate"),"id"],null);return g.type==="pushRight"?(0,t.jsx)(q.P,{col:g.size||6,children:(0,t.jsx)("div",{})},g.name||p):(0,t.jsx)(q.P,{col:g.size||6,children:(0,t.jsx)(S.jm,{...g,...s,error:A,onChange:o,value:u})},g.name||p)})})]},c))})},Li=({description:e=null,disabled:n=!1,error:s="",intlLabel:i,labelAction:o,name:l,onChange:r,placeholder:c=null,value:g=""})=>{const{formatMessage:m}=(0,w.Z)(),p=s?m({id:s,defaultMessage:s}):"",u=e?m({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",I=m(i),A=c?m({id:c.id,defaultMessage:c.defaultMessage},{...c.values}):"",C=Array.isArray(g)?g.join(`
`):"",Z=k=>{const M=k.target.value.split(`
`);r({target:{name:l,value:M}})};return(0,t.jsx)(Wn.g,{disabled:n,error:p,label:I,labelAction:o,id:l,hint:u,name:l,onChange:Z,placeholder:A,value:C,children:C})},Re={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:d("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},Ri={sections:[{sectionTitle:null,items:[Re]}]},He={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:d("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:d("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:d("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},N={default:{name:"default",type:"text",intlLabel:{id:d("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:d("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:d("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:d("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:d("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:d("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:d("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:d("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:d("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:d("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:d("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:d("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:d("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Ii={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.private]}]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:d("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.private]}]}},component({repeatable:e},n){return n==="1"?{sections:He.advanced()}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.private,N.max,N.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...N.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.unique,N.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.max,N.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...N.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.unique,N.maxLength,N.minLength,N.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:d("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((n,s)=>e.enum.indexOf(n)===s&&n).map(n=>({key:n,value:n,metadatas:{intlLabel:{id:`${n}.no-override`,defaultMessage:n}}}))]},{intlLabel:{id:d("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:d("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:d("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.private]}]}},number(e){const n=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:n,intlLabel:{id:d("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.unique,N.max,N.min,N.private]}]}},password(){return{sections:[{sectionTitle:null,items:[N.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.maxLength,N.minLength,N.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[N.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.maxLength,N.minLength,N.private]}]}},text(){return{sections:[{sectionTitle:null,items:[N.default,N.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.unique,N.maxLength,N.minLength,N.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...N.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[N.required,N.maxLength,N.minLength,N.private]}]}}},ht={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:d("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:d("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:d("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:d("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},cn={advanced:Ii,base:{component(e,n){if(n==="1"){const s=e.createComponent===!0?He.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[ht]},...s]}}return{sections:[{sectionTitle:null,items:[Re,{name:"component",type:"select-component",intlLabel:{id:d("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:d("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:d("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:d("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:d("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Re,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:d("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:d("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:d("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Re]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:d("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:d("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Re]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:d("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:d("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:d("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:d("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Re,{intlLabel:{id:d("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:d("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:d("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:d("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:d("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Re]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:d("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:d("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:d("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:d("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Re]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:d("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:d("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:d("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:d("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,n,s){const i=s.filter(({type:o})=>["string","text"].includes(o)).map(({name:o})=>({key:o,value:o,metadatas:{intlLabel:{id:`${o}.no-override`,defaultMessage:o}}}));return{sections:[{sectionTitle:null,items:[{...Re,placeholder:{id:d("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:d("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}},yt=e=>e?Uo(e,{decamelize:!1,lowercase:!1,separator:"_"}):"",un=/^[A-Za-z][_0-9A-Za-z]*$/,mn=e=>({name:"attributeNameAlreadyUsed",message:S.I0.unique,test(n){return n?!e.includes(n):!1}}),xt=e=>({name:"forbiddenAttributeName",message:d("error.attributeName.reserved-name"),test(n){return n?!e.includes(n):!1}}),x={default:()=>T.Z_().nullable(),max:()=>T.Rx().integer().nullable(),min:()=>T.Rx().integer().when("max",(e,n)=>e?n.max(e,d("error.validation.minSupMax")):n).nullable(),maxLength:()=>T.Rx().integer().positive(d("error.validation.positive")).nullable(),minLength:()=>T.Rx().integer().min(0).when("maxLength",(e,n)=>e?n.max(e,d("error.validation.minSupMax")):n).nullable(),name(e,n){return T.Z_().test(mn(e)).test(xt(n)).matches(un,S.I0.regex).required(S.I0.required)},required:()=>T.O7(),type:()=>T.Z_().required(S.I0.required),unique:()=>T.O7().nullable()},vt=(e,n)=>({name:x.name(e,n),type:x.type(),default:x.default(),unique:x.unique(),required:x.required(),maxLength:x.maxLength(),minLength:x.minLength(),regex:T.Z_().test({name:"isValidRegExpPattern",message:d("error.validation.regex"),test(i){return new RegExp(i||"")!==null}}).nullable()}),bt=()=>({name:"isMinSuperiorThanMax",message:d("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:n}=this.parent;return!n||Number.isNaN(mt(e))?!0:mt(n)>=mt(e)}}),qe={date(e,n){const s={name:x.name(e,n),type:x.type()};return T.Ry(s)},datetime(e,n){const s={name:x.name(e,n),type:x.type()};return T.Ry(s)},time(e,n){const s={name:x.name(e,n),type:x.type()};return T.Ry(s)},default(e,n){const s={name:x.name(e,n),type:x.type()};return T.Ry(s)},biginteger(e,n){const s={name:x.name(e,n),type:x.type(),default:T.Z_().nullable().matches(/^-?\d*$/),unique:x.unique(),required:x.required(),max:T.Z_().nullable().matches(/^-?\d*$/,S.I0.regex),min:T.Z_().nullable().test(bt()).matches(/^-?\d*$/,S.I0.regex)};return T.Ry(s)},boolean(e,n){const s={name:x.name(e,n),default:T.O7().nullable(),required:x.required(),unique:x.unique()};return T.Ry(s)},component(e,n){const s={name:x.name(e,n),type:x.type(),required:x.required(),max:x.max(),min:x.min(),component:T.Z_().required(S.I0.required)};return T.Ry(s)},decimal(e,n){const s={name:x.name(e,n),type:x.type(),default:T.Rx(),required:x.required(),max:T.Rx(),min:T.Rx().test(bt())};return T.Ry(s)},dynamiczone(e,n){const s={name:x.name(e,n),type:x.type(),required:x.required(),max:x.max(),min:x.min()};return T.Ry(s)},email(e,n){const s={name:x.name(e,n),type:x.type(),default:T.Z_().email().nullable(),unique:x.unique(),required:x.required(),maxLength:x.maxLength(),minLength:x.minLength()};return T.Ry(s)},enumeration(e,n){const s=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:T.Z_().test(mn(e)).test(xt(n)).matches(s,S.I0.regex).required(S.I0.required),type:x.type(),default:x.default(),unique:x.unique(),required:x.required(),enum:T.IX().of(T.Z_()).min(1,S.I0.min).test({name:"areEnumValuesUnique",message:d("error.validation.enum-duplicate"),test(o){return o?!Bo(o.map(yt).filter((r,c,g)=>g.indexOf(r)!==c)).length:!1}}).test({name:"doesNotHaveEmptyValues",message:d("error.validation.enum-empty-string"),test:o=>o?!o.map(yt).some(l=>l===""):!1}).test({name:"doesMatchRegex",message:d("error.validation.enum-regex"),test:o=>o?o.map(yt).every(l=>s.test(l)):!1}),enumName:T.Z_().nullable()};return T.Ry(i)},float(e,n){const s={name:x.name(e,n),type:x.type(),required:x.required(),default:T.Rx(),max:T.Rx(),min:T.Rx().test(bt())};return T.Ry(s)},integer(e,n){const s={name:x.name(e,n),type:x.type(),default:T.Rx().integer(),unique:x.unique(),required:x.required(),max:x.max(),min:x.min()};return T.Ry(s)},json(e,n){const s={name:x.name(e,n),type:x.type(),required:x.required(),unique:x.unique()};return T.Ry(s)},media(e,n){const s={name:x.name(e,n),type:x.type(),multiple:T.O7(),required:x.required(),allowedTypes:T.IX().of(T.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return T.Ry(s)},password(e,n){const s={name:x.name(e,n),type:x.type(),default:x.default(),unique:x.unique(),required:x.required(),maxLength:x.maxLength(),minLength:x.minLength()};return T.Ry(s)},relation(e,n,s,{initialData:i,modifiedData:o}){const l={name:x.name(e,n),target:T.Z_().required(S.I0.required),relation:T.Z_().required(),type:T.Z_().required(),targetAttribute:T.Vo(()=>{const r=(0,b.g)(o.relation,o.targetAttribute);if(r==="oneWay"||r==="manyWay")return T.Z_().nullable();const c=T.Z_().test(xt(n)),m=[...s.map(({name:p})=>p),o.name].filter(p=>p!==i.targetAttribute);return c.matches(un,S.I0.regex).test({name:"forbiddenTargetAttributeName",message:d("error.validation.relation.targetAttribute-taken"),test(p){return p?!m.includes(p):!1}}).required(S.I0.required)})};return T.Ry(l)},richtext(e,n){const s={name:x.name(e,n),type:x.type(),default:x.default(),unique:x.unique(),required:x.required(),maxLength:x.maxLength(),minLength:x.minLength()};return T.Ry(s)},blocks(e,n){const s={name:x.name(e,n),type:x.type(),default:x.default(),unique:x.unique(),required:x.required(),maxLength:x.maxLength(),minLength:x.minLength()};return T.Ry(s)},string(e,n){const s=vt(e,n);return T.Ry(s)},text(e,n){const s=vt(e,n);return T.Ry(s)},uid(e,n){const s=vt(e,n);return T.Ry(s)}},pn=/^[A-Za-z][-_0-9A-Za-z]*$/,Oi=e=>{const n={name:T.Z_().matches(pn,S.I0.regex).test({name:"nameNotAllowed",message:S.I0.unique,test(s){return s?!e.includes(s?.toLowerCase()):!1}}).required(S.I0.required)};return T.Ry(n)},Ei={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:d("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},Pi=(e,n,s,i,o)=>{const l={displayName:T.Z_().test({name:"nameAlreadyUsed",message:S.I0.unique,test(r){if(!r)return!1;const c=(0,b.c)(r,s);return!e.includes(c)&&!i.includes(o)}}).test({name:"nameNotAllowed",message:d("error.contentTypeName.reserved-name"),test(r){return r?!n.includes(r?.trim()?.toLowerCase()):!1}}).required(S.I0.required),category:T.Z_().matches(pn,S.I0.regex).required(S.I0.required),icon:T.Z_()};return T.Ry(l)},gn={name:"displayName",type:"text",intlLabel:{id:d("contentType.displayName.label"),defaultMessage:"Display name"}},Ct={advanced:{default(){return{sections:[{items:[{intlLabel:{id:d("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:d("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[gn,{description:{id:d("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:d("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:d("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:d("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[gn,{disabled:!0,description:{id:d("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:d("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:d("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:d("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:d("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:d("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:d("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:d("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},$i=({usedContentTypeNames:e=[],reservedModels:n=[],singularNames:s=[],pluralNames:i=[],collectionNames:o=[]})=>{const l={displayName:T.Z_().test({name:"nameAlreadyUsed",message:S.I0.unique,test(r){if(!r)return!1;const c=(0,b.b)(r);return!e.includes(c)}}).test({name:"nameNotAllowed",message:d("error.contentTypeName.reserved-name"),test(r){return r?!n.includes(r?.trim()?.toLowerCase()):!1}}).required(S.I0.required),pluralName:T.Z_().test({name:"pluralNameAlreadyUsed",message:S.I0.unique,test(r){return r?!i.includes(r):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:d("error.contentType.pluralName-equals-singularName"),test(r){return r?!s.includes(r):!1}}).test({name:"pluralAndSingularAreUnique",message:d("error.contentType.pluralName-used"),test(r,c){return r?c.parent.singularName!==r:!1}}).test({name:"pluralNameNotAllowed",message:d("error.contentTypeName.reserved-name"),test(r){return r?!n.includes(r?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:d("error.contentType.pluralName-equals-collectionName"),test(r){return r?!o.includes(r?.trim()?.toLowerCase()):!1}}).required(S.I0.required),singularName:T.Z_().test({name:"singularNameAlreadyUsed",message:S.I0.unique,test(r){return r?!s.includes(r):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:d("error.contentType.singularName-equals-pluralName"),test(r){return r?!i.includes(r):!1}}).test({name:"pluralAndSingularAreUnique",message:d("error.contentType.singularName-used"),test(r,c){return r?c.parent.pluralName!==r:!1}}).test({name:"singularNameNotAllowed",message:d("error.contentTypeName.reserved-name"),test(r){return r?!n.includes(r?.trim()?.toLowerCase()):!1}}).required(S.I0.required),draftAndPublish:T.O7(),kind:T.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:T.O7()};return T.Ry(l)},Tt={advanced:{default(){return{sections:He.advanced()}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[ht]},...He.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[ht]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:d("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},fn=(e,n)=>{e.forEach(s=>{if(!("sectionTitle"in s)){n[0].items?.push(s);return}n.push(s)})},Di=(e,n)=>`components_${(0,qt.snakeCase)(n)}_${it((0,qt.snakeCase)(e))}`,hn=(e,n)=>e.filter(({name:s})=>s!==n.initialData.name).map(({name:s})=>s),Be={customField:{schema({schemaAttributes:e,attributeType:n,customFieldValidator:s,reservedNames:i,schemaData:o,ctbFormsAPI:l}){const r=hn(e,o);qe[n];let c;return n==="relation"?c=qe[n](r,i.attributes,[],{initialData:{},modifiedData:{}}):c=qe[n](r,i.attributes),l.makeCustomFieldValidator(c,s,r,i.attributes,o)},form:{base({customField:e}){const n=[{sectionTitle:null,items:[Re]}];return e.options?.base&&fn(e.options.base,n),{sections:n}},advanced({customField:e,data:n,step:s,extensions:i,...o}){const l=[{sectionTitle:null,items:[]}],r=i.getAdvancedForm(["attribute",e.type],{data:n,type:e.type,step:s,...o});if(e.options?.advanced&&fn(e.options.advanced,l),r){const c={sectionTitle:{id:d("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:r};l.push(c)}return{sections:l}}}},attribute:{schema(e,n,s,i,o,l){const r=e?.schema?.attributes??[],c=hn(r,o);try{const g=qe[n](c,s.attributes,i,o);return l.makeValidator(["attribute",n],g,c,s.attributes,i,o)}catch(g){return console.error("Error yup build schema",g),qe.default(c,s.attributes)}},form:{advanced({data:e,type:n,step:s,extensions:i,...o}){try{const l=cn.advanced[n](e,s).sections,r=i.getAdvancedForm(["attribute",n],{data:e,type:n,step:s,...o});return{sections:l.reduce((g,m)=>(m.sectionTitle===null?g.push(m):g.push({...m,items:[...m.items,...r]}),g),[])}}catch(l){return console.error(l),{sections:[]}}},base({data:e,type:n,step:s,attributes:i}){try{return cn.base[n](e,s,i)}catch{return Ri}}}},contentType:{schema(e,n,s,i,o,l){const r=Object.values(l).map(C=>C.schema.singularName),c=Object.values(l).map(C=>C?.schema?.pluralName??""),g=n?e.filter(C=>C!==s):e,m=n?r.filter(C=>{const{schema:Z}=l[s];return Z.singularName!==C}):r,p=n?c.filter(C=>{const{schema:Z}=l[s];return Z.pluralName!==C}):c,u=Object.values(l).map(C=>C?.schema?.collectionName??""),I=n?u.filter(C=>{const{schema:Z}=l[s],k=Z.pluralName,M=Z.collectionName;return C!==k||C!==M}):u,A=$i({usedContentTypeNames:g,reservedModels:i.models,singularNames:m,pluralNames:p,collectionNames:I});return o.makeValidator(["contentType"],A,g,i.models,m,p)},form:{base({actionType:e}){return e==="create"?Ct.base.create():Ct.base.edit()},advanced({extensions:e}){const n=Ct.advanced.default().sections.map(i=>i.items).flat(),s=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...n,...s]}]}}}},component:{schema(e,n,s,i=!1,o,l,r=null){const c=i?e.filter(u=>u!==r):e,g=Object.values(o).map(u=>u?.schema?.collectionName),m=Di(l,n),p=i?g.filter(u=>u!==m):g;return Pi(c,s.models,n,p,m)},form:{advanced(){return{sections:He.advanced()}},base(){return{sections:He.base()}}}},addComponentToDynamicZone:{form:{advanced(){return Tt.advanced.default()},base({data:e}){return e?.createComponent??!1?Tt.base.createComponent():Tt.base.default()}}},editCategory:{schema(e,n){const s=e.filter(i=>i!==n.name).map(i=>i.toLowerCase());return Oi(s)},form:{advanced:()=>({sections:[]}),base(){return Ei.base}}}},Bi=()=>e=>e[`${b.p}_formModal`]||b.i,Ui=()=>(0,_t.P1)(Bi(),e=>e),zi=(e,n)=>{const s=O(e,["contentType","schema","kind"],"");return s==="singleType"||s===n.kind?!0:O(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:r,targetAttribute:c})=>{const g=(0,b.g)(l,c);return r==="relation"&&!["oneWay","manyWay"].includes(g||"")}).length===0},ki=(e="",n,s)=>{const i=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],o=e==="contentType",l=s.includes(n),r=!o&&!l;return o?[[...i.slice(0,-1),"uid",...i.slice(-1)],["component","dynamiczone"]]:r?[i,["component"]]:[i]},yn=e=>e.reduce((n,s)=>{const i=s.items.reduce((o,l)=>(l.name&&o.push(l.name),o),[]);return[...n,...i]},[]),Wi=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:n,onNavigateToAddCompoToDZModal:s,onNavigateToCreateComponentStep2:i,actionType:o,attributeName:l,attributeType:r,customFieldUid:c,categoryName:g,dynamicZoneTarget:m,forTarget:p,modalType:u,isOpen:I,kind:A,step:C,targetUid:Z,showBackLink:k}=Ge(),M=(0,S.mZ)().get(c),L=(0,f.useRef)(),D=(0,f.useMemo)(Ui,[]),B=(0,Ve.I0)(),X=(0,S.lm)(),ce=(0,Ve.v9)(G=>D(G),Ve.wU),{push:ve}=(0,Te.k6)(),{trackUsage:W}=(0,S.rS)(),{formatMessage:ye}=(0,w.Z)(),{getPlugin:K}=(0,S.j1)(),pe=K(b.p)?.apis.forms,se=pe.components.inputs,{addAttribute:Pe,addCustomFieldAttribute:ue,addCreatedComponentToDynamicZone:Q,allComponentsCategories:F,changeDynamicZoneComponents:Mt,contentTypes:we,components:Ue,createSchema:Ye,deleteCategory:jt,deleteData:lt,editCategory:Zt,editCustomFieldAttribute:At,submitData:St,modifiedData:ge,nestedComponents:Ft,setModifiedData:Nt,sortedContentTypesList:Lt,updateSchema:dt,reservedNames:ze}=Ee(),{componentToCreate:et,formErrors:$e,initialData:le,isCreatingComponentWhileAddingAField:tt,modifiedData:y}=ce,R=p==="contentType"||p==="component"?[p]:[p,Z];(0,f.useEffect)(()=>{if(I){const G=Lt.filter(an);u==="editCategory"&&Nt(),o==="edit"&&u==="attribute"&&p==="contentType"&&W("willEditFieldOfContentType");const Ce=[...R,"schema","attributes"],Le=pt(O(ge,Ce,[]),m)||null;if(u==="editCategory"&&o==="edit"&&B({type:b.S,modalType:u,actionType:o,data:{name:g}}),u==="contentType"&&o==="create"&&B({type:b.S,modalType:u,actionType:o,data:{draftAndPublish:!0},pluginOptions:{}}),u==="contentType"&&o==="edit"){const{displayName:Y,draftAndPublish:de,kind:Ze,pluginOptions:he,pluralName:Mr,reviewWorkflows:jr,singularName:Zr}=O(ge,[...R,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});B({type:b.S,actionType:o,modalType:u,data:{displayName:Y,draftAndPublish:de,kind:Ze,pluginOptions:he,pluralName:Mr,reviewWorkflows:jr??!1,singularName:Zr}})}if(u==="component"&&o==="edit"){const Y=O(ge,R,{});B({type:b.S,actionType:o,modalType:u,data:{displayName:Y.schema.displayName,category:Y.category,icon:Y.schema.icon}})}if(u==="addComponentToDynamicZone"&&o==="edit"){const Y={...Le,components:[],name:m,createComponent:!1,componentToCreate:{type:"component"}};B({type:b.d,attributeToEdit:Y})}if(r){const de={...pt(O(ge,Ce,[]),l),name:l};r==="component"&&o==="edit"&&(de.repeatable||Jt(de,"repeatable",!1)),B(u==="customField"?{type:b.e,customField:M,isEditing:o==="edit",modifiedDataToSetForEditing:de,forTarget:p}:{type:b.f,attributeType:r,nameToSetForRelation:O(G,["0","title"],"error"),targetUid:O(G,["0","uid"],"error"),isEditing:o==="edit",modifiedDataToSetForEditing:de,step:C,forTarget:p})}}else B({type:b.R})},[o,l,r,g,m,p,I,u]);const V=u==="contentType",ie=u==="component",fe=u==="attribute",Fe=u==="customField",Ne=r==="component"&&fe,ke=o==="create",We=O(y,"createComponent",!1)||tt,Qe=C==="1",Sn=u==="editCategory",Fn=u==="chooseAttribute",Rt=(0,b.b)(y.displayName||""),It=O(ge,[...R,"schema","attributes"],null),dr=async()=>{let G;const Ce=We&&C==="1"?O(y,"componentToCreate",{}):y;if(V)G=Be.contentType.schema(Object.keys(we),o==="edit",O(ge,[...R,"uid"],null),ze,pe,we);else if(ie)G=Be.component.schema(Object.keys(Ue),y.category||"",ze,o==="edit",Ue,y.displayName||"",O(ge,[...R,"uid"],null));else if(Fe)G=Be.customField.schema({schemaAttributes:O(ge,[...R,"schema","attributes"],[]),attributeType:M.type,reservedNames:ze,schemaData:{modifiedData:y,initialData:le},ctbFormsAPI:pe,customFieldValidator:M.options?.validator});else if(Ne&&We&&Qe)G=Be.component.schema(Object.keys(Ue),O(y,"componentToCreate.category",""),ze,o==="edit",Ue,y.componentToCreate.displayName||"");else if(fe&&!Qe){const Le=r==="relation"?"relation":y.type;let Y=[];if(Le==="relation"){const de=O(y,["target"],null);Y=O(we,[de,"schema","attributes"],[]).filter(({name:he})=>o!=="edit"?!0:he!==le.targetAttribute)}G=Be.attribute.schema(O(ge,R,{}),Le,ze,Y,{modifiedData:y,initialData:le},pe)}else if(Sn)G=Be.editCategory.schema(F,le);else if(Qe&&We)G=Be.component.schema(Object.keys(Ue),O(y,"componentToCreate.category",""),ze,o==="edit",Ue,y.componentToCreate.displayName||"");else return;await G.validate(Ce,{abortEarly:!1})},Nn=(0,f.useCallback)(({target:{name:G,value:Ce,type:Le,...Y}})=>{const de=["enumName","max","min","maxLength","minLength","regex","default"];let Ze;de.includes(G)&&Ce===""?Ze=null:Ze=Ce;const he=Object.assign({},$e);G==="max"&&delete he.min,G==="maxLength"&&delete he.minLength,delete he[G],B({type:b.h,errors:he}),B({type:b.j,keys:G.split("."),value:Ze,...Y})},[B,$e]),je=async(G,Ce=ke)=>{G.preventDefault();try{await dr(),mr(Ce);const Le=p==="components"?Z:Rt;if(V)if(ke)Ye({...y,kind:A},u,Rt),ve({pathname:`/plugins/${b.p}/content-types/${Rt}`}),n({forTarget:p,targetUid:Le});else{zi(ge,y)?(e(),St(y)):X({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(u==="component")if(ke){const Y=(0,b.c)(y.displayName,y.category),{category:de,...Ze}=y;Ye(Ze,"component",Y,de),ve({pathname:`/plugins/${b.p}/component-categories/${de}/${Y}`}),n({forTarget:p,targetUid:Y})}else{dt(y,u,Z),e();return}else if(Sn){if(Xt(le.name)===Xt(y.name)){e();return}Zt(le.name,y);return}else if(Fe){const Y={attributeToSet:{...y,customField:c},forTarget:p,targetUid:Z,initialAttribute:le};o==="edit"?At(Y):ue(Y),Ce?n({forTarget:p,targetUid:Le}):e();return}else if(fe&&!We){if(r==="dynamiczone"){Pe(y,p,Z,o==="edit",le),ke?(B({type:b.k}),L.current!==void 0&&L.current._handlers.setSelectedTabIndex(0),s({dynamicZoneTarget:y.name})):e();return}if(!Ne){Pe(y,p,Z,o==="edit",le),Ce?n({forTarget:p,targetUid:Le}):e();return}if(Qe){i(),B({type:b.l,forTarget:p});return}Pe(y,p,Z,o==="edit",le,!0),Ce?n({forTarget:p,targetUid:Z}):e()}else if(fe&&We){if(Qe){W("willCreateComponentFromAttributesModal"),B({type:b.m,forTarget:p}),i();return}const{category:Y,type:de,...Ze}=et,he=(0,b.c)(et.displayName,Y);Ye(Ze,de,he,Y,We),Pe(y,p,Z,!1),B({type:b.R}),Ce?n({forTarget:"components",targetUid:he}):e();return}else{if(Qe)if(We){const{category:Y,type:de,...Ze}=y.componentToCreate,he=(0,b.c)(y.componentToCreate.displayName,Y);Ye(Ze,de,he,Y,We),Q(m,[he]),n({forTarget:"components",targetUid:he})}else Mt(m,y.components),e();else console.error("This case is not handled");return}B({type:b.R})}catch(Le){const Y=(0,S.CJ)(Le);B({type:b.h,errors:Y})}},cr=()=>{window.confirm(ye({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),B({type:b.R}))},Ln=()=>{ut(y,le)?(e(),B({type:b.R})):cr()},ur=G=>{if(G==="advanced"){if(V){W("didSelectContentTypeSettings");return}p==="contentType"&&W("didSelectContentTypeFieldSettings")}},mr=G=>{u==="attribute"&&p==="contentType"&&r!=="dynamiczone"&&G&&W("willAddMoreFieldToContentType")},pr=()=>!!(u==="editCategory"||u==="component"||$o(y,"createComponent")),gr=ki(p,Z,Ft);if(!I||!u)return null;const Rn=O(Be,[u,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),fr=p==="components"||p==="component",In={customInputs:{"allowed-types-select":Ho,"boolean-radio-group":oi,"checkbox-with-number-field":ii,"icon-picker":fi,"content-type-radio-group":ri,"radio-group":gt,relation:ji,"select-category":Zi,"select-component":Ai,"select-components":Si,"select-default-boolean":ai,"select-number":ln,"select-date":Fi,"toggle-draft-publish":li,"text-plural":hi,"text-singular":Ni,"textarea-enum":Li,...se},componentToCreate:et,dynamicZoneTarget:m,formErrors:$e,isAddingAComponentToAnotherComponent:fr,isCreatingComponentWhileAddingAField:tt,mainBoxHeader:O(ge,[...R,"schema","displayName"],""),modifiedData:y,naturePickerType:p,isCreating:ke,targetUid:Z,forTarget:p},On=Rn.advanced({data:y,type:r,step:C,actionType:o,attributes:It,extensions:pe,forTarget:p,contentTypeSchema:ge.contentType||{},customField:M}).sections,En=Rn.base({data:y,type:r,step:C,actionType:o,attributes:It,extensions:pe,forTarget:p,contentTypeSchema:ge.contentType||{},customField:M}).sections,hr=yn(En),yr=yn(On),xr=Object.keys($e).some(G=>hr.includes(G)),vr=Object.keys($e).some(G=>yr.includes(G)),br=O(we,[Z,"schema","kind"]),Cr=()=>o==="edit"&&It.every(({name:G})=>G!==y?.name),Tr=()=>{Cr()&&W("didEditFieldNameOnContentType")};return(0,t.jsxs)(Vn.P,{onClose:Ln,labelledBy:"title",children:[(0,t.jsx)(ci,{actionType:o,attributeName:l,categoryName:g,contentTypeKind:A,dynamicZoneTarget:m,modalType:u,forTarget:p,targetUid:Z,attributeType:r,customFieldUid:c,showBackLink:k}),Fn&&(0,t.jsx)(ni,{attributes:gr,forTarget:p,kind:br||"collectionType"}),!Fn&&(0,t.jsxs)("form",{onSubmit:je,children:[(0,t.jsx)(Ie.f,{children:(0,t.jsxs)(re.v,{label:"todo",id:"tabs",variant:"simple",ref:L,onTabChange:G=>{G===1&&ur("advanced")},children:[(0,t.jsxs)(v.k,{justifyContent:"space-between",children:[(0,t.jsx)(mi,{actionType:o,forTarget:p,kind:A,step:C,modalType:u,attributeType:r,attributeName:l,customField:M}),(0,t.jsxs)(oe.m,{children:[(0,t.jsx)(oe.O,{hasError:xr,children:ye({id:d("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),(0,t.jsx)(oe.O,{hasError:vr,disabled:pr(),children:ye({id:d("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),(0,t.jsx)(ee.i,{}),(0,t.jsx)(h.x,{paddingTop:6,children:(0,t.jsxs)(ae.n,{children:[(0,t.jsx)(ae.x,{children:(0,t.jsx)(v.k,{direction:"column",alignItems:"stretch",gap:6,children:(0,t.jsx)(dn,{form:En,formErrors:$e,genericInputProps:In,modifiedData:y,onChange:Nn})})}),(0,t.jsx)(ae.x,{children:(0,t.jsx)(v.k,{direction:"column",alignItems:"stretch",gap:6,children:(0,t.jsx)(dn,{form:On,formErrors:$e,genericInputProps:In,modifiedData:y,onChange:Nn})})})]})})]})}),(0,t.jsx)(Gn.m,{endActions:(0,t.jsx)(di,{deleteCategory:jt,deleteContentType:lt,deleteComponent:lt,categoryName:le.name,isAttributeModal:u==="attribute",isCustomFieldModal:u==="customField",isComponentToDzModal:u==="addComponentToDynamicZone",isComponentAttribute:r==="component",isComponentModal:u==="component",isContentTypeModal:u==="contentType",isCreatingComponent:o==="create",isCreatingDz:o==="create",isCreatingComponentAttribute:y.createComponent||!1,isCreatingComponentInDz:y.createComponent||!1,isCreatingComponentWhileAddingAField:tt,isCreatingContentType:o==="create",isEditingAttribute:o==="edit",isDzAttribute:r==="dynamiczone",isEditingCategory:u==="editCategory",isInFirstComponentStep:C==="1",onSubmitAddComponentAttribute:je,onSubmitAddComponentToDz:je,onSubmitCreateComponent:je,onSubmitCreateContentType:je,onSubmitCreateDz:je,onSubmitEditAttribute:je,onSubmitEditCategory:je,onSubmitEditComponent:je,onSubmitEditContentType:je,onSubmitEditCustomFieldAttribute:je,onSubmitEditDz:je,onClickFinish:Tr}),startActions:(0,t.jsx)(_.z,{variant:"tertiary",onClick:Ln,children:ye({id:"app.components.Button.cancel",defaultMessage:"Cancel"})})})]})]})},Vi=()=>e=>e[`${b.p}_dataManagerProvider`]||b.o,Gi=()=>(0,_t.P1)(Vi(),e=>e),Hi=(e,n)=>{const s=Object.keys(e).filter(i=>{const o=O(e,i,{}),l=O(n,i,{}),r=O(o,["isTemporary"],!1),c=!ut(o,l);return r||c});return(0,b.q)(s)},wi=(e,n)=>{const s=vn(O(e,"schema.attributes",[]),n),i=O(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},en(e.schema,"attributes"),{attributes:s})},xn=(e,n=!1)=>{const s=O(e,"uid",null),i=vn(O(e,"schema.attributes",[]),s),o=n?{category:O(e,"category","")}:{},l=Object.assign(o,en(e.schema,"attributes"),{attributes:i});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},vn=(e,n)=>e.reduce((s,{name:i,...o})=>{const l=o,r=l.target===n,c=l.type==="relation",g=O(l,"targetAttribute",null);if(!r)if(c){const m=Object.assign({},l,{targetAttribute:bn(g)});s[i]=rt(m)}else s[i]=rt(l);if(r){const m=l.target,p=Object.assign({},l,{target:m,targetAttribute:bn(g)});s[i]=rt(p)}if(l.customField){const m={...l,type:"customField"};s[i]=rt(m)}return s},{}),bn=e=>e==="-"?null:e,rt=e=>Object.keys(e).reduce((n,s)=>(e[s]!==null&&s!=="plugin"&&(n[s]=e[s]),n),{}),Yi=(e,n,s)=>Hi(e,n).map(l=>{const r=O(e,l,{});return wi(r,s)}),Qi=e=>ko(Object.keys(e).map(n=>({visible:e[n].schema.visible,name:n,title:e[n].schema.displayName,plugin:e[n].plugin||null,uid:n,to:`/plugins/${b.p}/content-types/${n}`,kind:e[n].schema.kind,restrictRelationsTo:e[n].schema.restrictRelationsTo})).filter(n=>n!==null),n=>zo(n.title)),Cn=e=>e.reduce((n,s)=>(n[s.uid]=s,n),{}),Ji=(e,n,s,i)=>{const o=n.reduce((c,g)=>{const m=O(s,g,{});return c[g]=m,c},{});return{[i?"contentType":"component"]:e,components:o}},Tn=e=>Object.keys(e).reduce((n,s)=>{const i=e[s].schema;return n[s]={...e[s],schema:{...i,attributes:Xi(i.attributes)}},n},{}),Xi=e=>Object.keys(e).reduce((n,s)=>(n.push({...e[s],name:s}),n),[]),Ki=e=>{const n=Object.keys(e).reduce((s,i)=>{const o=O(e,[i]),l=o.uid;return qi(o)&&s.push(l),s},[]);return(0,b.q)(n)},qi=e=>O(e,["schema","attributes"],[]).some(s=>{const{type:i}=s;return i==="component"}),Mn=e=>{const n=Object.keys(e).reduce((s,i)=>{const o=e?.[i]?.schema?.attributes??[],l=_i(o);return[...s,...l]},[]);return(0,b.q)(n)},_i=e=>e.reduce((n,s)=>{const{type:i,component:o}=s;return i==="component"&&n.push(o),n},[]),er=(e,n)=>{const s=Object.keys(e).map(i=>O(e,[i,...n],""));return(0,b.q)(s)},jn="did-not-kill-server",tr="server is down";function _e(e,n){return new Promise(s=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":"false"}}).then(i=>{if(i.status>=400)throw new Error(tr);if(!n)throw new Error(jn);s(e)}).catch(i=>{setTimeout(()=>_e(e,i.message!==jn).then(s),100)})})}const nr=e=>Object.values(e.attributes).filter(s=>s.type==="dynamiczone").every(s=>Array.isArray(s.components)&&s.components.length>0),ar=({children:e})=>{const n=(0,Ve.I0)(),{components:s,contentTypes:i,isLoading:o,isLoadingForDataToBeSet:l,initialData:r,modifiedData:c,reservedNames:g}=(0,Ve.v9)(Gi()),m=(0,S.lm)(),{lockAppWithAutoreload:p,unlockAppWithAutoreload:u}=(0,S.Vu)(),{setCurrentStep:I}=(0,S.c1)(),{getPlugin:A}=(0,S.j1)(),C=A(b.p),{autoReload:Z}=(0,S.L7)(),{formatMessage:k}=(0,w.Z)(),{trackUsage:M}=(0,S.rS)(),{refetchPermissions:L}=(0,S.vn)(),{pathname:D}=(0,Te.TH)(),{onCloseModal:B}=Ge(),X=(0,Te.$B)(`/plugins/${b.p}/content-types/:uid`),ce=(0,Te.$B)(`/plugins/${b.p}/component-categories/:categoryUid/:componentUid`),ve=(0,S.kY)(),{put:W,post:ye,del:K}=ve,be=(0,f.useRef)();be.current=k;const pe=Z,se=X!==null,Pe=se?"contentType":"component",ue=se?O(X,"params.uid",null):O(ce,"params.componentUid",null),Q=(0,f.useRef)(),F=se?"content-types":"components";Q.current=async()=>{try{const[{data:{data:y}},{data:{data:R}},{data:V}]=await Promise.all(["components","content-types","reserved-names"].map(ke=>ve.get(`/${b.p}/${ke}`))),ie=Cn(y),fe=Tn(ie),Fe=Cn(R),Ne=Tn(Fe);n({type:b.G,components:fe,contentTypes:Ne,reservedNames:V})}catch(y){console.error({err:y}),m({type:"warning",message:{id:"notification.error"}})}},(0,f.useEffect)(()=>(Q.current(),()=>{n({type:b.r})}),[]),(0,f.useEffect)(()=>{!o&&ue&&dt()},[o,D,ue]),(0,f.useEffect)(()=>{Z||m({type:"info",message:{id:d("notification.info.autoreaload-disable")}})},[Z,m]);const Mt=(y,R,V,ie=!1,fe,Fe=!1)=>{const Ne=ie?b.w:b.x;n({type:Ne,attributeToSet:y,forTarget:R,targetUid:V,initialAttribute:fe,shouldAddComponentToData:Fe})},we=({attributeToSet:y,forTarget:R,targetUid:V,initialAttribute:ie})=>{n({type:b.A,attributeToSet:y,forTarget:R,targetUid:V,initialAttribute:ie})},Ue=({attributeToSet:y,forTarget:R,targetUid:V,initialAttribute:ie})=>{n({type:b.E,attributeToSet:y,forTarget:R,targetUid:V,initialAttribute:ie})},Ye=(y,R)=>{n({type:b.u,dynamicZoneTarget:y,componentsToAdd:R})},jt=(y,R,V,ie,fe=!1)=>{const Fe=R==="contentType"?b.y:b.z;n({type:Fe,data:y,componentCategory:ie,schemaType:R,uid:V,shouldAddComponentToData:fe})},lt=(y,R)=>{n({type:b.C,dynamicZoneTarget:y,newComponents:R})},Zt=(y,R,V="")=>{const ie=y==="components"?b.B:b.F;y==="contentType"&&M("willDeleteFieldOfContentType"),n({type:ie,mainDataKey:y,attributeToRemoveName:R,componentUid:V})},At=async y=>{try{const R=`/${b.p}/component-categories/${y}`,V=window.confirm(k({id:d("popUpWarning.bodyMessage.category.delete")}));B(),V&&(p?.(),await K(R),await _e(!0),u?.(),await le())}catch(R){console.error({err:R}),m({type:"warning",message:{id:"notification.error"}})}finally{u?.()}},St=async()=>{try{const y=`/${b.p}/${F}/${ue}`,R=O(c,[Pe,"isTemporary"],!1),V=window.confirm(k({id:d(`popUpWarning.bodyMessage.${se?"contentType":"component"}.delete`)}));if(B(),V){if(R){n({type:b.D});return}p?.(),await K(y),await _e(!0),await u?.(),await le()}}catch(y){console.error({err:y}),m({type:"warning",message:{id:"notification.error"}})}finally{u?.()}},ge=async(y,R)=>{try{const V=`/${b.p}/component-categories/${y}`;B(),p?.(),await W(V,R),await _e(!0),await u?.(),await le()}catch(V){console.error({err:V}),m({type:"warning",message:{id:"notification.error"}})}finally{u?.()}},Ft=()=>{const y=Object.assign({},s,c.components);if(!se){const V=O(c,"component",{});Jt(y,O(V,["uid"],""),V)}const R=Ki(y);return(0,b.q)(R)},Nt=()=>{const y=Mn(s),R=Mn(c.components||{});return(0,b.q)([...R,...y])},Lt=(y,R)=>{n({type:b.v,dzName:y,componentToRemoveIndex:R})},dt=()=>{const R=O(se?i:s,ue??"",{schema:{attributes:[]}}),V=(0,b.s)(R.schema.attributes,s),ie=Ji(R,V,s,se),fe=O(R,"isTemporary",!1)&&Po(O(R,"schema.attributes",[]))===0;n({type:b.t,schemaToSet:ie,hasJustCreatedSchema:fe})},ze=(0,f.useMemo)(()=>{const y=se?i:s;return ue==="create-content-type"?!1:!Object.keys(y).includes(ue||"")&&!o},[s,i,ue,se,o]),et=(0,f.useMemo)(()=>{const y=Object.keys(i).filter(R=>O(i,[R,"schema","visible"],!0)).sort();return O(y,"0","create-content-type")},[i]);if(ze)return(0,t.jsx)(Te.l_,{to:`/plugins/${b.p}/content-types/${et}`});const $e=async y=>{try{const R=O(c,[Pe,"isTemporary"],!1),V={components:Yi(c.components,s,ue)};if(se){const Ne=(C?.apis?.forms).mutateContentTypeSchema({...xn(c.contentType),...y},r.contentType);if(!nr(Ne)){m({type:"warning",message:{id:d("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}V.contentType=Ne,M("willSaveContentType")}else V.component=xn(c.component,!0),M("willSaveComponent");p?.();const ie=`/${b.p}/${F}`,fe=R?ie:`${ie}/${ue}`;if(R?await ye(fe,V):await W(fe,V),await _e(!0),await u?.(),R&&(r.contentType?.schema.kind==="collectionType"||r.contentType?.schema.kind==="singleType")&&I("contentTypeBuilder.success"),se){M("didSaveContentType");const Fe=O(V,["contentType","schema","name"],""),Ne=O(r,["contentType","schema","name"],"");!R&&Fe!==Ne&&M("didEditNameOfContentType")}else M("didSaveComponent");await le()}catch(R){se||M("didNotSaveComponent"),console.error({err:R.response}),m({type:"warning",message:{id:"notification.error"}})}finally{u?.()}},le=async()=>{await L()},tt=(y,R,V)=>{n({type:b.U,data:y,schemaType:R,uid:V})};return(0,t.jsx)(tn.Provider,{value:{addAttribute:Mt,addCustomFieldAttribute:we,addCreatedComponentToDynamicZone:Ye,allComponentsCategories:er(s,["category"]),changeDynamicZoneComponents:lt,components:s,componentsGroupedByCategory:Eo(s,"category"),componentsThatHaveOtherComponentInTheirAttributes:Ft(),contentTypes:i,createSchema:jt,deleteCategory:At,deleteData:St,editCategory:ge,editCustomFieldAttribute:Ue,isInDevelopmentMode:pe,initialData:r,isInContentTypeView:se,modifiedData:c,nestedComponents:Nt(),removeAttribute:Zt,removeComponentFromDynamicZone:Lt,reservedNames:g,setModifiedData:dt,sortedContentTypesList:Qi(i),submitData:$e,updateSchema:tt},children:l?(0,t.jsx)(S.dO,{}):(0,t.jsxs)(t.Fragment,{children:[e,pe&&(0,t.jsx)(Wi,{})]})})},sr=(0,f.memo)(ar),Zn={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null},or=({children:e})=>{const[n,s]=f.useState(Zn),{trackUsage:i}=(0,S.rS)(),o=({attributeType:M,customFieldUid:L})=>{s(D=>({...D,actionType:"create",modalType:"customField",attributeType:M,customFieldUid:L}))},l=({attributeType:M,step:L})=>{n.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:M}),s(D=>({...D,actionType:"create",modalType:"attribute",step:L,attributeType:M,showBackLink:!0}))},r=({dynamicZoneTarget:M,targetUid:L})=>{s(D=>({...D,dynamicZoneTarget:M,targetUid:L,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},c=({forTarget:M,targetUid:L})=>{s(D=>({...D,actionType:"create",forTarget:M,targetUid:L,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1}))},g=M=>{s(L=>({...L,...M,isOpen:!0}))},m=M=>{s(L=>({...L,categoryName:M,actionType:"edit",modalType:"editCategory",isOpen:!0}))},p=({forTarget:M,targetUid:L,attributeName:D,attributeType:B,customFieldUid:X})=>{s(ce=>({...ce,modalType:"customField",customFieldUid:X,actionType:"edit",forTarget:M,targetUid:L,attributeName:D,attributeType:B,isOpen:!0}))},u=({forTarget:M,targetUid:L,attributeName:D,attributeType:B,step:X})=>{s(ce=>({...ce,modalType:"attribute",actionType:"edit",forTarget:M,targetUid:L,attributeName:D,attributeType:B,step:X,isOpen:!0}))},I=({modalType:M,forTarget:L,targetUid:D,kind:B})=>{s(X=>({...X,modalType:M,actionType:"edit",forTarget:L,targetUid:D,kind:B,isOpen:!0}))},A=()=>{s(Zn)},C=({forTarget:M,targetUid:L})=>{s(D=>({...D,forTarget:M,targetUid:L,modalType:"chooseAttribute"}))},Z=()=>{s(M=>({...M,attributeType:"component",modalType:"attribute",step:"2"}))},k=({dynamicZoneTarget:M})=>{s(L=>({...L,dynamicZoneTarget:M,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return(0,t.jsx)(nn.Provider,{value:{...n,onClickSelectField:l,onClickSelectCustomField:o,onCloseModal:A,onNavigateToChooseAttributeModal:C,onNavigateToAddCompoToDZModal:k,onOpenModalAddComponentsToDZ:r,onNavigateToCreateComponentStep2:Z,onOpenModalAddField:c,onOpenModalCreateSchema:g,onOpenModalEditCategory:m,onOpenModalEditField:u,onOpenModalEditCustomField:p,onOpenModalEditSchema:I,setFormModalNavigationState:s},children:e})},ir=(0,f.lazy)(()=>a.e(4140).then(a.bind(a,74140))),rr=()=>{const{url:e}=(0,Te.$B)();return(0,t.jsx)(f.Suspense,{fallback:(0,t.jsx)(S.dO,{}),children:(0,t.jsx)(Te.rs,{children:(0,t.jsx)(Te.AW,{path:`${e}/:componentUid`,children:(0,t.jsx)(ir,{})})})})},An=(0,f.lazy)(()=>a.e(4140).then(a.bind(a,74140))),lr=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{formatMessage:e}=(0,w.Z)(),n=e({id:`${b.p}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:s}=(0,S.c1)(),i=(0,f.useRef)(s);return(0,f.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),(0,t.jsxs)(S.O4,{permissions:b.P.main,children:[(0,t.jsx)(wn.q,{title:n}),(0,t.jsx)(or,{children:(0,t.jsx)(sr,{children:(0,t.jsx)(Hn.A,{sideNav:(0,t.jsx)(Vo,{}),children:(0,t.jsx)(f.Suspense,{fallback:(0,t.jsx)(S.dO,{}),children:(0,t.jsxs)(Te.rs,{children:[(0,t.jsx)(Te.AW,{path:`/plugins/${b.p}/content-types/create-content-type`,component:An}),(0,t.jsx)(Te.AW,{path:`/plugins/${b.p}/content-types/:uid`,component:An}),(0,t.jsx)(Te.AW,{path:`/plugins/${b.p}/component-categories/:categoryUid`,component:rr})]})})})})})]})}},Symbol.toStringTag,{value:"Module"}))}}]);
